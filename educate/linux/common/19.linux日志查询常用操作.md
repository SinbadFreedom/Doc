项目在linux系统部署后，在维护项目的过程中，经常需要查询日志，来查询相关信息或者排错等。linux提供了很方便的日志查询命令，熟悉了以后，会比windows查询更加方便。

1 查询匹配名字的日志
===

一般来说，为了方便查询日志，会以日期或者日期加小时数来作为日志名称的后缀，这样在查询某天或者某个时段的日志会非常方便。也会大大降低日志文件的大小。

下面列举了3种方法，推荐采用方法2和方法3，更加便捷，也更加灵活。

1.1 方法一通过find命令查找文件再通过grep命令查找
---

采用find命令加文件名称匹配 执行grep命令，查找关键字符串"ERROR"。指令示例:

```
find -name "*2018-1-26*" -exec grep ERROR {} \;
```

1.2 方法二通过grep命令查找
---

在日志目录，通过grep命令查找匹配的日志文件，查找指定的字符串"ERROR"。指令示例:

```
grep *2018-1-26* | grep ERROR | head -100
```

1.3 通过cat方法连接文件后grep查找
---

```
cat *2018-1-26* | grep ERROR
```

2 查询日志文件中匹配结果过滤
===

日志文件过多的时候，我们需要对查询结果过滤，比如查询结果的前10条，后10条，和匹配结果的前后多少行等。

2.1 查询匹配结果的前10条
---

```
cat *2018-1-26* | grep ERROR | head -10
```

2.2 查询匹配结果的后10条
---

```
cat *2018-1-26* | grep ERROR | tail -10
```

2.3 grep查询结果的前后几行
---

grep 后面带上-A -B -C 参数可以多显示几行内容。

例如:

grep -A 5 可以显示匹配内容以及后面的5行内容 

grep -B 5 可以显示匹配内容以及前面的5行内容

grep -C 5 可以显示匹配内容以及前后面的5行内容