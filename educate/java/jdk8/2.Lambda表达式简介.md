Lambdaè¡¨è¾¾å¼ç®€ä»‹
===


ä»JDK8.0å¼€å§‹Javaå¼•å…¥äº†Lambdaè¡¨è¾¾å¼. 
Javaè¯­è¨€æµè¡Œäºé¢å‘å¯¹è±¡çš„ç¼–ç¨‹æ€æƒ³, æ˜¯ä»æŒ‡ä»¤ç¼–ç¨‹åŸºç¡€ä¸Šå‘å±•è€Œæ¥.
Lambdaè¡¨è¾¾å¼æ˜¯å‡½æ•°å¼ç¼–ç¨‹çš„åŸºç¡€. JDK8å¼•å…¥äº†Lambdaè¡¨è¾¾å¼æ˜¯å¼•å…¥äº†ä¸€ç§æ–°çš„ç¼–ç¨‹æ€æƒ³.



1. ä»€ä¹ˆæ˜¯Lambdaè¡¨è¾¾å¼
---

â€œLambda è¡¨è¾¾å¼â€(lambda expression)æ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼ŒLambdaè¡¨è¾¾å¼åŸºäºæ•°å­¦ä¸­çš„Î»æ¼”ç®—å¾—åã€‚

ç®€å•æ¥è¯´ï¼Œç¼–ç¨‹ä¸­æåˆ°çš„ lambda è¡¨è¾¾å¼ï¼Œé€šå¸¸æ˜¯åœ¨éœ€è¦ä¸€ä¸ªå‡½æ•°ï¼Œä½†æ˜¯åˆä¸æƒ³è´¹ç¥å»å‘½åä¸€ä¸ªå‡½æ•°çš„åœºåˆä¸‹ä½¿ç”¨ï¼Œä¹Ÿå°±æ˜¯æŒ‡åŒ¿åå‡½æ•°ã€‚

å¦‚æœæ¥å£åªæœ‰1ä¸ªæ–¹æ³•, è¿™æ—¶ä½¿ç”¨åŒ¿åå†…éƒ¨ç±»æ—¶ä»£ç çœ‹ä¸Šå»ä¸æ¸…æ™°ä¹Ÿä¸ç®€æ´. åœ¨è¿™ç§æƒ…å†µä¸‹, ä½ ä¼šå¸Œæœ›å°†å‡½æ•°(functionality)ä½œä¸ºå‚æ•°ä¼ é€’è¿›å», æ¥è®©ä»£ç çœ‹èµ·æ¥æ›´åŠ ç®€æ´. 

ä¾‹å¦‚: å¤„ç†æŒ‰é’®ç‚¹å‡»äº‹ä»¶æ—¶.

Lambdaè¡¨è¾¾å¼å¯ä»¥å®ç°è¿™ç§éœ€æ±‚, å°†å‡½æ•°ä½œä¸ºæ–¹æ³•å‚æ•°, è€…å°†ä»£ç ä½œä¸ºæ•°æ®. å¯ä»¥å°†å•æ–¹æ³•(single-method)æ¥å£æ›´åŠ ç®€æ´.

æ³¨:
åœ¨Java lambdaçš„è®¾è®¡è¿‡ç¨‹ä¸­ï¼Œæœ‰ä¸€æ®µæ—¶é—´æ˜¯è¯´æ‰€æœ‰çš„SAM(Single Abstract Method)ç±»å‹ï¼ˆåŒ…æ‹¬åªæœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•çš„æ¥å£ä»¥åŠåªæœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•çš„æŠ½è±¡ç±»ï¼‰éƒ½å¯ä»¥å½“ä½œlambdaè¡¨è¾¾å¼çš„ç›®æ ‡ç±»å‹ï¼Œä½†åé¢çœŸæ­£çš„è§„èŒƒæŠŠè®¾è®¡æ”¶ç´§äº†ï¼Œåªæ”¯æŒå•æŠ½è±¡æ–¹æ³•çš„æ¥å£æ‰ç®—æ•°ã€‚

2. æŒ‡ä»¤ç¼–ç¨‹
---

æ‰€æœ‰çš„å‘½ä»¤å¼è¯­è¨€éƒ½è¢«è®¾è®¡æ¥é«˜æ•ˆåœ°ä½¿ç”¨å†¯è¯ºä¾æ›¼ä½“ç³»ç»“æ„çš„è®¡ç®—æœºã€‚
æœ€åˆçš„å‘½ä»¤å¼è¯­è¨€çš„ç›®çš„å°±æ˜¯å–ä»£æ±‡ç¼–è¯­è¨€ï¼Œå¯¹æœºå™¨æŒ‡ä»¤è¿›è¡Œè¿›ä¸€æ­¥æŠ½è±¡ã€‚
å› æ­¤ï¼Œå‘½ä»¤å¼è¯­è¨€å¸¦æœ‰å¼ºçƒˆçš„ç¡¬ä»¶ç»“æ„ç‰¹å¾ã€‚
å‘½ä»¤å¼è¯­è¨€çš„æ ¸å¿ƒç‰¹æ€§æœ‰ï¼šæ¨¡æ‹Ÿå­˜å‚¨å•å…ƒçš„å˜é‡ã€åŸºäºä¼ è¾“æ“ä½œçš„èµ‹å€¼è¯­å¥ï¼Œä»¥åŠè¿­ä»£å½¢å¼çš„å¾ªç¯è¿ç®—ã€‚
å‘½ä»¤å¼è¯­è¨€çš„åŸºç¡€æ˜¯è¯­å¥ï¼ˆç‰¹åˆ«æ˜¯èµ‹å€¼ï¼‰ï¼Œå®ƒä»¬é€šè¿‡ä¿®æ”¹å­˜å‚¨å™¨çš„å€¼è€Œäº§ç”Ÿå‰¯ä½œç”¨ï¼ˆside effectï¼‰
çš„æ–¹å¼å»å½±å“åç»­çš„è®¡ç®—ã€‚

åœ¨JDK8ä¹‹å‰, Javaæ²¡æœ‰å¼•å…¥Lambdaä¹‹å‰å¯ä»¥è¯´æ˜¯ä¸ªå…¸å‹çš„å‘½ä»¤å¼è¯­è¨€.

åœ¨JDK8å¼•å…¥äº†Lambdaè¡¨è¾¾å¼å, ä¹Ÿéšä¹‹å¼•å…¥äº†å‡½æ•°å¼ç¼–ç¨‹çš„æ¦‚å¿µ.


3. å‡½æ•°å¼ç¼–ç¨‹
---

è¿™ç§èƒ½å¤Ÿæ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°çš„å‡½æ•°å«åšã€Œé«˜é˜¶å‡½æ•°ã€ï¼ˆhigher-order functionï¼‰ï¼Œæ˜¯æ¥è‡ªå‡½æ•°å¼ç¼–ç¨‹ï¼ˆfunctional programmingï¼‰çš„æ€æƒ³ã€‚

å‡½æ•°å¼ç¼–ç¨‹å°†ç”µè„‘è¿ç®—è§†ä¸ºå‡½æ•°çš„è®¡ç®—ã€‚

å‡½æ•°å¼è¯­è¨€è®¾è®¡çš„åŸºç¡€æ˜¯Lambdaè¡¨è¾¾å¼ï¼Œå‡½æ•°å¼ç¨‹åºè®¾è®¡æŠŠç¨‹åºçš„è¾“å‡ºå®šä¹‰ä¸ºå…¶è¾“å…¥çš„ä¸€ä¸ªæ•°å­¦å‡½æ•°ï¼Œåœ¨è¿™é‡Œæ²¡æœ‰å†…éƒ¨çŠ¶æ€ï¼Œä¹Ÿæ²¡æœ‰å‰¯ä½œç”¨ã€‚
å‡½æ•°å¼è¯­è¨€è¿›è¡Œè®¡ç®—çš„ä¸»è¦æ˜¯å°†å‡½æ•°ä½œç”¨ä¸ç»™å®šå‚æ•°ä¹‹ä¸Šã€‚
å‡½æ•°å¼è¯­è¨€æ²¡æœ‰å‘½ä»¤å¼è¯­è¨€æ‰€å¿…éœ€çš„é‚£ç§å˜é‡ï¼Œå¯ä»¥æ²¡æœ‰èµ‹å€¼è¯­å¥ï¼Œä¹Ÿå¯ä»¥æ²¡æœ‰å¾ªç¯ã€‚
ä¸€ä¸ªç¨‹åºå°±æ˜¯å‡½æ•°å®šä¹‰å’Œå‡½æ•°åº”ç”¨çš„è¯´æ˜ï¼›ä¸€ä¸ªç¨‹åºçš„æ‰§è¡Œå°±æ˜¯å¯¹å‡½æ•°åº”ç”¨çš„æ±‚å€¼ã€‚


4. Javaä¸ºä»€ä¹ˆä¼šå¼•å…¥Lambdaè¡¨è¾¾å¼
---


ä¹‹æ‰€ä»¥äº§ç”Ÿå¦‚Lambdaè¡¨è¾¾å¼ç­‰è¿™äº›æ–°ç‰¹æ€§ï¼ŒèƒŒåçš„é©±åŠ¨åŠ›æ˜¯ç¡¬ä»¶çš„å¤šæ ¸åŒ–å‘å±•è¶‹åŠ¿ã€‚åœ¨æ­¤è¶‹åŠ¿ä¸‹ï¼ŒèŠ¯ç‰‡è®¾è®¡è€…åªèƒ½é‡‡ç”¨å¤šæ ¸å¹¶è¡Œçš„è®¾è®¡æ€è·¯ï¼Œè€Œè½¯ä»¶å¼€å‘è€…å¿…é¡»èƒ½å¤Ÿæ›´å¥½åœ°åˆ©ç”¨åº•å±‚ç¡¬ä»¶çš„å¹¶å‘ç‰¹æ€§ã€‚

Lambdbaè¡¨è¾¾å¼æ˜¯å‡½æ•°å¼ç¼–ç¨‹çš„åŸºç¡€, å·²ç»å¹¿æ³›çš„åœ¨å…¶ä»–è¯­è¨€ä¸­åº”ç”¨, æ¯”å¦‚ Groovy,Ruby,Pythonç­‰.

Javaä¸­çš„Lambdaè¡¨è¾¾å¼å’Œå…¶ä»–è¯­è¨€æœ‰æ‰€ä¸åŒ, åœ¨Javaä¸­Lambdaæ˜¯ä¸€ä¸ªSAM(single abstract method)å•æ–¹æ³•æ¥å£.

å‡½æ•°å¼ç¼–ç¨‹å¯¹äºJavaè¯­è¨€æ¥è¯´æ˜¯ä¸€ä¸ªå…¨æ–°çš„è§†è§’, ä¹Ÿæ˜¯ä¸€ç§æŠ€æœ¯å‘å±•çš„è¶‹åŠ¿.

åœ¨å¤§æ•°æ®å‘å±•è¶Šæ¥è¶Šå¼ºçƒˆçš„æ—¶ä»£ï¼ŒJavaä¹Ÿéœ€è¦è·Ÿéšæ—¶ä»£çš„éœ€è¦åšä¸€äº›æ”¹è¿›.


Lambdaè¡¨è¾¾å¼çš„ä¼˜ç‚¹

* æ›´åŠ ç´§å‡‘çš„ä»£ç  
 æ¯”å¦‚Javaä¸­ç°æœ‰çš„åŒ¿åå†…éƒ¨ç±»ä»¥åŠç›‘å¬å™¨(listeners)å’Œäº‹ä»¶å¤„ç†å™¨(handlersï¼‰éƒ½æ˜¾å¾—å¾ˆå†—é•¿ 
 
* æ›´å¥½åœ°æ”¯æŒå¤šæ ¸å¤„ç† 
 ä¾‹å¦‚ï¼Œé€šè¿‡Java 8æ–°å¢çš„Lambdaè¡¨è¾¾å¼ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆæ–¹ä¾¿åœ°å¹¶è¡Œæ“ä½œå¤§é›†åˆï¼Œå……åˆ†å‘æŒ¥å¤šæ ¸CPUçš„æ½œèƒ½ã€‚ 
 å¹¶è¡Œå¤„ç†å‡½æ•°å¦‚filterã€mapå’Œreduceã€‚

* Lambdaçš„å¼•å…¥,ä½¿é›†åˆæ“ä½œä¹Ÿå¾—åˆ°äº†æ”¹å–„ã€‚JDK8å¼•å…¥stream API.
å°†å¤§æ•°æ®å¤„ç†å¸¸ç”¨çš„mapã€reduceã€filterè¿™æ ·çš„åŸºæœ¬å‡½æ•°å¼ç¼–ç¨‹çš„æ¦‚å¿µä¸Javaé›†åˆç»“åˆèµ·æ¥ã€‚
éšä¹‹è€Œæ¥çš„æ˜¯ï¼Œmapã€reduceã€filterç­‰æ“ä½œéƒ½å¯ä»¥å¹¶è¡ŒåŒ–ï¼Œæ›´åŠ é€‚åˆå¤§æ•°æ®çš„å¹¶è¡Œå¤„ç†.


5. Lambdaè¡¨è¾¾å¼çš„è¯­æ³•
---

Lambdaè¡¨è¾¾å¼çš„æœ¬è´¨æ˜¯ä¸€ä¸ª"è¯­æ³•ç³–", ç”±ç¼–è¯‘å™¨æ¨æ–­å¹¶è½¬æ¢ä¸ºå¸¸è§„çš„ä»£ç , å¯¹åº”"å•æŠ½è±¡æ–¹æ³•æ¥å£"ä¸­çš„é‚£ä¸€ä¸ªæ–¹æ³•.


åŸºæœ¬è¯­æ³•:
```
(parameters) -> expression
```
æˆ–
```
(parameters) -> { statements; }
```


Javaè¯­è¨€Lambdaè¡¨è¾¾å¼çš„ç¤ºä¾‹:

```
// 1. ä¸éœ€è¦å‚æ•°,è¿”å›å€¼ä¸º 5  
() -> 5  
  
// 2. æ¥æ”¶ä¸€ä¸ªå‚æ•°(æ•°å­—ç±»å‹),è¿”å›å…¶2å€çš„å€¼  
x -> 2 * x  
  
// 3. æ¥å—2ä¸ªå‚æ•°(æ•°å­—),å¹¶è¿”å›ä»–ä»¬çš„å·®å€¼  
(x, y) -> x â€“ y  
  
// 4. æ¥æ”¶2ä¸ªintå‹æ•´æ•°,è¿”å›ä»–ä»¬çš„å’Œ  
(int x, int y) -> x + y  
  
// 5. æ¥å—ä¸€ä¸ª string å¯¹è±¡,å¹¶åœ¨æ§åˆ¶å°æ‰“å°,ä¸è¿”å›ä»»ä½•å€¼(çœ‹èµ·æ¥åƒæ˜¯è¿”å›void)  
(String s) -> System.out.print(s)  
```



6. å‚è€ƒæ–‡ç« 
---

[http://blog.csdn.net/renfufei/article/details/24600507](http://blog.csdn.net/renfufei/article/details/24600507)


[https://www.developer.com/java/start-using-java-lambda-expressions.html](https://www.developer.com/java/start-using-java-lambda-expressions.html)




7. ç›¸å…³æ–‡ç« 
---

ğŸ“– [Javaä»å…¥é—¨åˆ°ç²¾é€šç´¢å¼•](http://localhost/article/java/basic/index.html)


6. å‚è€ƒæ–‡ç« 
---

ğŸ“– [https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html](https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html)

ğŸ“– [https://www.cnblogs.com/feichexia/archive/2012/11/15/Java8_LambdaExpression.html](https://www.cnblogs.com/feichexia/archive/2012/11/15/Java8_LambdaExpression.html)

ğŸ“– [https://www.zhihu.com/question/21563900](https://www.zhihu.com/question/21563900)


