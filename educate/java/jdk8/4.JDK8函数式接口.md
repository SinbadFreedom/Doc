JDK8å‡½æ•°å¼æ¥å£
===



â‘  å‡½æ•°å¼æ¥å£å®šä¹‰
---


å‡½æ•°å¼æ¥å£(Functional Interface)æ˜¯æŒ‡åªæœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•çš„æ¥å£. è¿™ç§ç±»å‹çš„æ¥å£ä¹Ÿç§°ä¸ºSAM(Single Abstract Method).

 
â‘¡ å‡½æ•°å¼æ¥å£åº”ç”¨åœºæ™¯
----

å‡½æ•°å¼æ¥å£ä¸»è¦åº”ç”¨åœ¨Lambdaè¡¨è¾¾å¼ä¸Š.

å¦‚å®šä¹‰äº†ä¸€ä¸ªå‡½æ•°å¼æ¥å£å¦‚ä¸‹:

```java
@FunctionalInterface
interface GreetingService 
{
	void sayMessage(String message);
}
```

é‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨Lambdaè¡¨è¾¾å¼æ¥è¡¨ç¤ºè¯¥æ¥å£çš„ä¸€ä¸ªå®ç°.

```java
GreetingService greetService1 = message -> System.out.println("Hello " + message);
```

<div class="bs-callout bs-callout-warning">
	JDK8.0ä¹‹å‰ä¸€èˆ¬æ˜¯ç”¨åŒ¿åç±»å®ç°çš„.
</div>

â‘¢ @FunctionalInterfaceæ³¨è§£
---

JDK8ä¸ºå‡½æ•°å¼æ¥å£å¼•å…¥äº†ä¸€ä¸ªæ–°æ³¨è§£@FunctionalInterface,ä¸»è¦ç”¨äºç¼–è¯‘çº§é”™è¯¯æ£€æŸ¥. åŠ ä¸Šè¯¥æ³¨è§£,å½“ä½ å†™çš„æ¥å£ä¸ç¬¦åˆå‡½æ•°å¼æ¥å£å®šä¹‰çš„æ—¶å€™,ç¼–è¯‘å™¨ä¼šæŠ¥é”™.

ä¾‹:
```java
@FunctionalInterface
interface GreetingService
{
	void sayMessage(String message);
}
```

<div class="bs-callout bs-callout-warning">
    <h4>@FunctionalInterfaceæ³¨è§£</h4>
	åŠ ä¸åŠ @FunctionalInterfaceå¯¹äºæ¥å£æ˜¯ä¸æ˜¯å‡½æ•°å¼æ¥å£æ²¡æœ‰å½±å“,è¯¥æ³¨è§£æé†’ç¼–è¯‘å™¨å»æ£€æŸ¥è¯¥æ¥å£æ˜¯å¦ä»…åŒ…å«ä¸€ä¸ªæŠ½è±¡æ–¹æ³•.
	åŠ ä¸Šè¯¥æ³¨è§£è¡¨ç¤ºè¯¥æ¥å£ä¸­åªèƒ½æœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•. å¦‚æœæ¥å£ä¸­åŒ…å«äº†ä¸¤ä¸ªæˆ–ä»¥ä¸Šçš„æŠ½è±¡æ–¹æ³•, åˆ™è¿åäº†å‡½æ•°å¼æ¥å£çš„å®šä¹‰. é‡‡ç”¨Eclipseæˆ–è€…Intelij IDEAç­‰IDEä¼šæç¤ºé”™è¯¯.
</div>

 
â‘£ å‡½æ•°å¼æ¥å£é‡Œå…è®¸å®šä¹‰defaultæ–¹æ³•
---

defaultæ–¹æ³•ä¹Ÿæ˜¯JDK8ä¸­æ–°å¢çš„ä¸€ç§è¯­æ³•ç‰¹æ€§. æ¥å£ä¸­ä½¿ç”¨è¯¥å…³é”®å­—è¡¨ç¤ºè¯¥æ–¹æ³•æ˜¯å¯ä»¥åœ¨æ¥å£ä¸­ç›´æ¥å®ç°è¯¥æ–¹æ³•. 

å‡½æ•°å¼æ¥å£é‡Œæ˜¯å¯ä»¥åŒ…å«defaultæ–¹æ³•,å› ä¸ºdefaultæ–¹æ³•ä¸æ˜¯æŠ½è±¡æ–¹æ³•,å…¶æœ‰ä¸€ä¸ªé»˜è®¤å®ç°,æ‰€ä»¥æ˜¯ç¬¦åˆå‡½æ•°å¼æ¥å£çš„å®šä¹‰çš„.

å¦‚ä¸‹ä»£ç ä¸ä¼šæŠ¥é”™:

```java
@FunctionalInterface
interface GreetingService
{
	void sayMessage(String message);

	default void doSomeMoreWork1()
	{
		// Method body
	}

	default void doSomeMoreWork2()
	{
		// Method body
	}
}
```

â‘¤ å‡½æ•°å¼æ¥å£é‡Œå…è®¸å®šä¹‰é™æ€æ–¹æ³•
---


å‡½æ•°å¼æ¥å£é‡Œæ˜¯å¯ä»¥åŒ…å«é™æ€æ–¹æ³•,å› ä¸ºé™æ€æ–¹æ³•ä¸èƒ½æ˜¯æŠ½è±¡æ–¹æ³•,æ˜¯ä¸€ä¸ªå·²ç»å®ç°äº†çš„æ–¹æ³•,æ‰€ä»¥æ˜¯ç¬¦åˆå‡½æ•°å¼æ¥å£çš„å®šä¹‰çš„.

å¦‚ä¸‹ä»£ç ä¸ä¼šæŠ¥é”™:

```java
@FunctionalInterface
interface GreetingService 
{
	void sayMessage(String message);
	static void printHello(){
		System.out.println("Hello");
	}
}
```

â‘¥ å‡½æ•°å¼æ¥å£é‡Œå…è®¸å®šä¹‰java.lang.Objecté‡Œçš„publicæ–¹æ³•
---


å‡½æ•°å¼æ¥å£é‡Œæ˜¯å¯ä»¥åŒ…å«Objecté‡Œçš„publicæ–¹æ³•. è¿™äº›æ–¹æ³•å¯¹äºå‡½æ•°å¼æ¥å£æ¥è¯´,ä¸è¢«å½“æˆæ˜¯æŠ½è±¡æ–¹æ³•(è™½ç„¶å®ƒä»¬æ˜¯æŠ½è±¡æ–¹æ³•).å› ä¸ºä»»ä½•ä¸€ä¸ªå‡½æ•°å¼æ¥å£çš„å®ç°,é»˜è®¤éƒ½ç»§æ‰¿äº†Objectç±»,åŒ…å«äº†æ¥è‡ªjava.lang.Objecté‡Œå¯¹è¿™äº›æŠ½è±¡æ–¹æ³•çš„å®ç°.

å¦‚ä¸‹ä»£ç ä¸ä¼šæŠ¥é”™:

```java
@FunctionalInterface
interface GreetingService  
{
	void sayMessage(String message);
	
	@Override
	boolean equals(Object obj);
}
```
 
â‘¦ JDKä¸­çš„å‡½æ•°å¼æ¥å£ä¸¾ä¾‹
---

```java
java.lang.Runnable,

java.awt.event.ActionListener, 

java.util.Comparator,

java.util.concurrent.Callable

java.util.functionåŒ…ä¸‹çš„æ¥å£,å¦‚Consumerã€Predicateã€Supplierç­‰
```

â‘§ ç›¸å…³æ–‡ç« 
---

ğŸ“– [Javaä»å…¥é—¨åˆ°ç²¾é€šç´¢å¼•](http://localhost/article/java/index.html)


â‘¨ å‚è€ƒæ–‡ç« 
---

ğŸ“– [http://www.linuxidc.com/Linux/2016-09/135437.htm](http://www.linuxidc.com/Linux/2016-09/135437.htm)
