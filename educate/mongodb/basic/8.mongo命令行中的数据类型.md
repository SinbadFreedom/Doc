MongoDBé‡‡ç”¨`BSON`æ•°æ®ç±»å‹, æ¯”`JSON`æ ¼å¼æä¾›äº†æ›´å¤šçš„æ•°æ®ç±»å‹. æ•°æ®åº“é©±åŠ¨æä¾›äº†æœ¬åœ°æ–¹æ³•æ”¯æŒè¿™äº›æ•°æ®ç±»å‹, å¹¶ä¸”mongoå‘½ä»¤è¡Œä¹Ÿæä¾›äº†ä¸€äº›å¸®åŠ©ç±»æ¥ä½¿ç”¨è¿™äº›æ•°æ®ç±»å‹.


æ•°æ®ç±»å‹


1 Date
===

mongoå‘½ä»¤è¡Œè¿”å›å½“å‰æ—¶é—´, ä»¥å­—ç¬¦ä¸²æˆ–è€…ä¸€ä¸ªå¯¹è±¡çš„å½¢å¼.

* Date() ä»¥å­—ç¬¦ä¸²è¿”å›å½“å‰æ—¶é—´

```
var myDateString = Date();
```

æ˜¾ç¤ºå½“å‰æ—¥æœŸå­—ç¬¦ä¸²è¾“å…¥:

```
myDateString
```

æ˜¾ç¤ºå†…å®¹:

```
Thu Oct 26 2017 17:26:35 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)
```

æŸ¥çœ‹å˜é‡ç±»å‹è¾“å…¥:

```
typeof myDateString
```

æ˜¾ç¤ºå†…å®¹:

```
string
```

* new Date() è¿”å›ä»¥`ISODate()`åŒ…è£…çš„Dateå¯¹è±¡.
* ISODate() è¿”å›ä»¥`ISODate()`åŒ…è£…çš„Dateå¯¹è±¡.

mongoå‘½ä»¤è¡Œä¸­`new Date()`å’Œ`ISODate()`éƒ½è¿”å›`Date`å¯¹è±¡.

è¾“å…¥:
```
var myDate = new Date();
var myDateInitUsingISODateWrapper = ISODate();
myDate
myDateInitUsingISODateWrapper
```
æ˜¾ç¤º:
```
ISODate("2017-10-26T09:30:19.073Z")
ISODate("2017-10-26T09:30:19.586Z")
```
ç”¨instanceoféªŒè¯æ•°æ®ç±»å‹:

```
myDate instanceof Date
myDateInitUsingISODateWrapper instanceof Date
```

æ˜¾ç¤º:
```
true
true
```

2 ObjectId
===

mongoå‘½ä»¤è¡Œæä¾›äº†`ObjectId()`åŒ…è£…ç±»æ¥å°è£…`ObjectId`æ•°æ®ç±»å‹.

ç”Ÿæˆä¸€ä¸ªæ–°çš„ObjectId,è¾“å…¥:
```
new ObjectId
```

æ˜¾ç¤º:
```
ObjectId("59f1ac932cacee0f03e35dc6")
```

3 NumberLong
===

mongoå‘½ä»¤é»˜è®¤è¿”å›æµ®ç‚¹æ•°, æä¾›äº†`NumberLong()`åŒ…è£…ç±»æ¥è¿”å›ä¸€ä¸ª64ä½çš„æ•´æ•°.

ä¾‹å¦‚:
```
NumberLong("2090845886852")
```

è¿™ä¸ªå°†å®šä¹‰ä¸€ä¸ª64ä½æ•´æ•°, è€Œä¸æ˜¯ä¸€ä¸ªæµ®ç‚¹æ•°.

å†™å…¥longå‹æ•´æ•°:

```
db.collection.insertOne( { _id: 10, calc: NumberLong("2090845886852") } )
db.collection.updateOne( { _id: 10 },
                      { $set:  { calc: NumberLong("2555555000000") } } )
db.collection.updateOne( { _id: 10 },
                      { $inc: { calc: NumberLong(5) } } )
```

æ£€éªŒç»“æœ:

```
db.collection.findOne( { _id: 10 } )
```

è¿”å›çš„æ–‡æ¡£å¯¹è±¡:

```
{ "_id" : 10, "calc" : NumberLong("2555555000005") }
```

å¦‚æœé‡‡ç”¨`$inc`æ“ä½œç¬¦å¯¹`NumberLong`å¯¹è±¡æ¥è¿›è¡Œ`float`ç±»å‹è¿ç®—,ç»“æœæ•°æ®å˜ä¸º`float`ç±».
ä¸¾ä¾‹:

1.é‡‡ç”¨`$inc`æ“ä½œç¬¦åŠ 5, `5`é»˜è®¤ä¸ºæµ®ç‚¹å‹.

```
db.collection.updateOne( { _id: 10 },
                      { $inc: { calc: 5 } } )
```

2.æŸ¥æ‰¾ä¿®æ”¹ç»“æœ

```
db.collection.findOne( { _id: 10 } )
```

3.æ˜¾ç¤ºç»“æœ

```
{ "_id" : 10, "calc" : 2555555000010 }
```

4 NumberInt
===

mongoå‘½ä»¤é»˜è®¤æ‰€æœ‰çš„æ•°å­—ç±»å‹æ•°å­—ä¸º64ä½æµ®ç‚¹å‹, æä¾›äº†`NumberInt()`æ„é€ å‡½æ•°æ¥ç”Ÿæˆ32ä½æ•´æ•°.

ç†è®ºåŒ`NumberLong`.

5 NumberDecimal
===

mongoå‘½ä»¤é»˜è®¤æ‰€æœ‰çš„æ•°å­—ç±»å‹æ•°å­—ä¸º64ä½æµ®ç‚¹å‹, æä¾›äº†`NumberDecimal()`æ„é€ å‡½æ•°æ¥æŒ‡å®š128ä½æµ®ç‚¹å‹åè¿›åˆ¶å°æ•°.

<div class="bs-callout bs-callout-warning">
    <h4>æµ®ç‚¹æ•°æ»¡è¶³äº†ç»å¤§éƒ¨åˆ†åº”ç”¨åœºæ™¯,ä¸å†é¢å¤–ä»‹ç»è¿™ä¸ª.å¯ä»¥å‚è€ƒåŸæ–‡.</h4>
</div>

6 mongoå‘½ä»¤æŸ¥çœ‹ç±»å‹
===

mongoå‘½ä»¤ä¸­å¯ä»¥é€šè¿‡`instanceof`å’Œ`typeof`æ“ä½œç¬¦æ¥æŸ¥çœ‹æ•°æ®ç±»å‹.

###1.instanceof

`instanceof`è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼, æ¥è¡¨ç¤ºæ˜¯å¦æ˜¯æŸä¸ªç±»å‹çš„å®ä¾‹.

ä¸¾ä¸ªæ —å­, æ£€æŸ¥`_id`å±æ€§å€¼æ˜¯å¦ä¸º`ObjectId`ç±»å‹.

```
mydoc._id instanceof ObjectId
```

æ˜¾ç¤º

```
true
```

###2.typeof
`typeof`è¿”å›æ•°æ®ç±»å‹

ä¸¾ä¸ªæ —å­, æŸ¥çœ‹`_id`å±æ€§çš„æ•°æ®ç±»å‹:

```
typeof mydoc._id
```

<div class="bs-callout bs-callout-warning">
    <h4>è¿™é‡Œè¿”å›`object`ç±»å‹è€Œä¸æ˜¯`ObjectId`ç±»å‹.</h4>
</div>

7 å‚è€ƒæ–‡ç« 
===

ğŸ“– [https://docs.mongodb.com/manual/core/shell-types/](https://docs.mongodb.com/manual/core/shell-types/)


8 ç›¸å…³æ–‡ç« 
===

ğŸ“– [MongoDBä¸­æ–‡æ–‡æ¡£](http://localhost/article/mongodb/index.html)