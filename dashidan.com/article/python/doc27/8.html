<!doctype html>
<html class="no-js" lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>é”™è¯¯</title>
    <meta name="description" content="é”™è¯¯">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Expires" content="0">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Cache-control" content="no-cache">
    <meta http-equiv="Cache" content="no-cache">

    <link rel="stylesheet" href="http://dashidan.com/css/bootstrap.css">
    <link rel="stylesheet" href="http://dashidan.com/css/dashidan.css">
</head>
<body>

<!--[if lte IE 9]>
<p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade
    your browser</a> to improve your experience and security.</p>
<![endif]-->

<nav class="navbar navbar-default">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                    data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">
                <img src="http://dashidan.com/img/dsd24.png">
            </a>
            <a class="navbar-brand" href="http://dashidan.com/index.html">å¤§å±è›‹æ•™ç¨‹ç½‘</a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <li><a href="http://dashidan.com/about.html">å…³äº</a></li>
                <li><a href="http://dashidan.com/thanks.html">é¸£è°¢</a></li>
                <li><a href="http://dashidan.com/siteMap.html">ç½‘ç«™åœ°å›¾</a></li>
            </ul>
        </div>
    </div>
</nav>

<div class="container">
    <!-- é¡¶éƒ¨é¢åŒ…å±‘å¯¼èˆª-->
    <ol class="breadcrumb">
        <li><a href="http://dashidan.com/index.html">é¦–é¡µ</a></li>
        <li class="active"><a href="http://dashidan.com/article/python/index.html">Python</a></li>
    </ol>
    <div id="xs_index" class="col-sm-3 col-md-3 col-lg-3 col-xs-12 hidden-xs">
        <!--
        <div id="xs_index_close" class="text-right visible-xs" onclick="hideIndex()">
            å…³é—­â
            <hr>
        </div>
		-->
        <div>
            <div class="dsd_title" onclick="clickTitle('doc27')">
                <h3><span id="doc_title">â• Pythonä¸­æ–‡æ–‡æ¡£2.7</span></h3>
            </div>
            <div id="doc27" class="dsd_catalog_left_hide">
                <div class="single_line">
                    <a href="http://dashidan.com/article/python/doc27/1.html">1.å‰è¨€</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/python/doc27/2.html">2.è§£é‡Šå™¨</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/python/doc27/3.html">3.ç®€ä»‹</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/python/doc27/4.html">4.æµç¨‹æ§åˆ¶</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/python/doc27/5.html">5.æ•°æ®ç»“æ„</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/python/doc27/6.html">6.æ¨¡å—</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/python/doc27/7.html">7.è¾“å…¥å’Œè¾“å‡º</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/python/doc27/8.html">8.é”™è¯¯</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/python/doc27/9.html">9.ç±»</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/python/doc27/10.html">10.æ ‡å‡†åº“æ¦‚è§ˆ</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/python/doc27/11.html">11.æ ‡å‡†åº“æµè§ˆII</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/python/doc27/12.html">12.æ¥ä¸‹æ¥</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/python/doc27/13.html">13.äº¤äº’å¼è¾“å…¥</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/python/doc27/14.html">14.æµ®ç‚¹æ•°ç®—æ³•</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/python/doc27/15.html">15.é™„å½•</a>
                </div>
            </div>

        </div>
    </div>
    <div id="sx_index_button" class="visible-xs-block" onclick="showIndex()">
        <!-- å°å±æ˜¾ç¤ºç›®å½•-->
        <div id="sx_index_button_text">
            <span style="color: white">ğŸ”–ç›®å½•</span>
        </div>
    </div>
    <div class="col-sm-9 col-md-9 col-lg-9">
        <!-- æ–‡ç« å†…å®¹-->
        <div class="dsd_title"><h1>é”™è¯¯</h1></div>

        <div id="xs_content_border">
            <div>
                <div class="dsd_catalog"><a href="#1">1 è¯­æ³•é”™è¯¯</a><br><a href="#2">2 å¼‚å¸¸</a><br><a href="#3">3 å¼‚å¸¸å¤„ç†</a><br><a
                    href="#4">4 æŠ›å‡ºå¼‚å¸¸</a><br><a href="#5">5 ç”¨æˆ·è‡ªå®šä¹‰å¼‚å¸¸</a><br><a href="#6">6 å®šä¹‰æ¸…ç†è¡Œä¸º</a><br><a href="#7">7
                    é¢„å®šä¹‰æ¸…ç†è¡Œä¸º</a><br></div>
            </div>
            <p>ï»¿è‡³ä»Šä¸ºæ­¢è¿˜æ²¡æœ‰è¿›ä¸€æ­¥çš„è°ˆè®ºè¿‡é”™è¯¯ä¿¡æ¯ï¼Œä¸è¿‡åœ¨ä½ å·²ç»è¯•éªŒè¿‡çš„é‚£äº›ä¾‹å­ä¸­ï¼Œå¯èƒ½å·²ç»é‡åˆ°è¿‡ä¸€äº›ã€‚Python ä¸­(è‡³å°‘)æœ‰ä¸¤ç§é”™è¯¯ï¼šè¯­æ³•é”™è¯¯å’Œå¼‚å¸¸( <em>syntax errors</em> å’Œ <em>exceptions</em>
                )ã€‚</p>
            <div class="dsd_title_1"><a href="#top" id="1"><h2>1 è¯­æ³•é”™è¯¯</h2></a></div>
            <p>è¯­æ³•é”™è¯¯ï¼Œä¹Ÿè¢«ç§°ä½œè§£æé”™è¯¯ï¼Œä¹Ÿè®¸æ˜¯ä½ å­¦ä¹  Python è¿‡ç¨‹ä¸­æœ€å¸¸è§æŠ±æ€¨::</p>
            <pre class="prettyprint"><code>&gt;&gt;&gt; while True print 'Hello world'
 File "&lt;stdin&gt;", line 1, in ?
   while True print 'Hello world'
                  ^
SyntaxError: invalid syntax
</code></pre>
            <p>è¯­æ³•åˆ†æå™¨æŒ‡å‡ºé”™è¯¯è¡Œï¼Œå¹¶ä¸”åœ¨æ£€æµ‹åˆ°é”™è¯¯çš„ä½ç½®å‰é¢æ˜¾ç¤ºä¸€ä¸ªå°â€œç®­å¤´â€ã€‚é”™è¯¯æ˜¯ç”±ç®­å¤´ <em>å‰é¢</em> çš„æ ‡è®°å¼•èµ·çš„(æˆ–è€…è‡³å°‘æ˜¯è¿™ä¹ˆæ£€æµ‹çš„)ï¼šè¿™ä¸ªä¾‹å­ä¸­ï¼Œå…³é”®å­— <code>print &lt;https://docs.python.org/2.7/reference/simple_stmts.html#print&gt;</code>_
                è¢«å‘ç°å­˜åœ¨é”™è¯¯ï¼Œå› ä¸ºå®ƒå‰é¢å°‘äº†ä¸€ä¸ªå†’å·( <code>':'</code> )ã€‚é”™è¯¯ä¼šè¾“å‡ºæ–‡ä»¶åå’Œè¡Œå·ï¼Œæ‰€ä»¥å¦‚æœæ˜¯ä»è„šæœ¬è¾“å…¥çš„ä½ å°±çŸ¥é“å»å“ªé‡Œæ£€æŸ¥é”™è¯¯äº†ã€‚</p>
            <div class="dsd_title_1"><a href="#top" id="2"><h2>2 å¼‚å¸¸</h2></a></div>
            <p>å³ä½¿ä¸€æ¡è¯­å¥æˆ–è¡¨è¾¾å¼åœ¨è¯­æ³•ä¸Šæ˜¯æ­£ç¡®çš„ï¼Œå½“è¯•å›¾æ‰§è¡Œå®ƒæ—¶ä¹Ÿå¯èƒ½ä¼šå¼•å‘é”™è¯¯ã€‚è¿è¡ŒæœŸæ£€æµ‹åˆ°çš„é”™è¯¯ç§°ä¸º <em>å¼‚å¸¸</em>ï¼Œå¹¶ä¸”ç¨‹åºä¸ä¼šæ— æ¡ä»¶çš„å´©æºƒï¼šå¾ˆå¿«ï¼Œä½ å°†å­¦åˆ°å¦‚ä½•åœ¨ Python
                ç¨‹åºä¸­å¤„ç†å®ƒä»¬ã€‚ç„¶è€Œï¼Œå¤§å¤šæ•°å¼‚å¸¸éƒ½ä¸ä¼šè¢«ç¨‹åºå¤„ç†ï¼Œåƒè¿™é‡Œå±•ç¤ºçš„ä¸€æ ·æœ€ç»ˆä¼šäº§ç”Ÿä¸€ä¸ªé”™è¯¯ä¿¡æ¯::</p>
            <pre class="prettyprint"><code>&gt;&gt;&gt; 10 * (1/0)
Traceback (most recent call last):
 File "&lt;stdin&gt;", line 1, in ?
ZeroDivisionError: integer division or modulo by zero
&gt;&gt;&gt; 4 + spam*3
Traceback (most recent call last):
 File "&lt;stdin&gt;", line 1, in ?
NameError: name 'spam' is not defined
&gt;&gt;&gt; '2' + 2
Traceback (most recent call last):
 File "&lt;stdin&gt;", line 1, in ?
TypeError: cannot concatenate 'str' and 'int' objects
</code></pre>
            <p>é”™è¯¯ä¿¡æ¯çš„æœ€åä¸€è¡ŒæŒ‡å‡ºå‘ç”Ÿäº†ä»€ä¹ˆé”™è¯¯ã€‚å¼‚å¸¸ä¹Ÿæœ‰ä¸åŒçš„ç±»å‹ï¼Œå¼‚å¸¸ç±»å‹åšä¸ºé”™è¯¯ä¿¡æ¯çš„ä¸€éƒ¨åˆ†æ˜¾ç¤ºå‡ºæ¥ï¼šç¤ºä¾‹ä¸­çš„å¼‚å¸¸åˆ†åˆ«ä¸º é™¤é”™è¯¯( <code>ZeroDivisionError &lt;https://docs.python.org/2.7/library/exceptions.html#exceptions.ZeroDivisionError&gt;</code>_
                )ï¼Œå‘½åé”™è¯¯( <code>NameError
                    &lt;https://docs.python.org/2.7/library/exceptions.html#exceptions.NameError&gt;</code>_ )å’Œç±»å‹é”™è¯¯(
                <code>TypeError &lt;https://docs.python.org/2.7/library/exceptions.html#exceptions.TypeError&gt;</code>_
                )ã€‚æ‰“å°é”™è¯¯ä¿¡æ¯æ—¶ï¼Œå¼‚å¸¸çš„ç±»å‹ä½œä¸ºå¼‚å¸¸çš„å†…ç½®åæ˜¾ç¤ºã€‚å¯¹äºæ‰€æœ‰çš„å†…ç½®å¼‚å¸¸éƒ½æ˜¯å¦‚æ­¤ï¼Œä¸è¿‡ç”¨æˆ·è‡ªå®šä¹‰å¼‚å¸¸å°±ä¸ä¸€å®šäº†(å°½ç®¡è¿™æ˜¯ä¸€ä¸ªå¾ˆæœ‰ç”¨çš„çº¦å®š)ã€‚æ ‡å‡†å¼‚å¸¸åæ˜¯å†…ç½®çš„æ ‡è¯†(æ²¡æœ‰ä¿ç•™å…³é”®å­—)ã€‚ </p>
            <p>è¿™ä¸€è¡Œåä¸€éƒ¨åˆ†æ˜¯å…³äºè¯¥å¼‚å¸¸ç±»å‹çš„è¯¦ç»†è¯´æ˜ï¼Œè¿™æ„å‘³ç€å®ƒçš„å†…å®¹ä¾èµ–äºå¼‚å¸¸ç±»å‹ã€‚</p>
            <p>é”™è¯¯ä¿¡æ¯çš„å‰åŠéƒ¨åˆ†ä»¥å †æ ˆçš„å½¢å¼åˆ—å‡ºå¼‚å¸¸å‘ç”Ÿçš„ä½ç½®ã€‚é€šå¸¸åœ¨å †æ ˆä¸­åˆ—å‡ºäº†æºä»£ç è¡Œï¼Œç„¶è€Œï¼Œæ¥è‡ªæ ‡å‡†è¾“å…¥çš„æºç ä¸ä¼šæ˜¾ç¤ºå‡ºæ¥ã€‚ </p>
            <p><code>Built-in Exceptions
                &lt;https://docs.python.org/2.7/library/exceptions.html#bltin-exceptions&gt;</code>_ åˆ—å‡ºäº†å†…ç½®å¼‚å¸¸å’Œå®ƒä»¬çš„å«ä¹‰ã€‚</p>
            <div class="dsd_title_1"><a href="#top" id="3"><h2>3 å¼‚å¸¸å¤„ç†</h2></a></div>
            <p>é€šè¿‡ç¼–ç¨‹å¤„ç†é€‰æ‹©çš„å¼‚å¸¸æ˜¯å¯è¡Œçš„ã€‚çœ‹ä¸€ä¸‹ä¸‹é¢çš„ä¾‹å­ï¼šå®ƒä¼šä¸€ç›´è¦æ±‚ç”¨æˆ·è¾“å…¥ï¼Œç›´åˆ°è¾“å…¥ä¸€ä¸ªåˆæ³•çš„æ•´æ•°ä¸ºæ­¢ï¼Œä½†å…è®¸ç”¨æˆ·ä¸­æ–­è¿™ä¸ªç¨‹åº(ä½¿ç”¨ :kbd:<code>Control-C</code>
                æˆ–ç³»ç»Ÿæ”¯æŒçš„ä»»ä½•æ–¹æ³•)ã€‚æ³¨æ„ï¼šç”¨æˆ·äº§ç”Ÿçš„ä¸­æ–­ä¼šå¼•å‘ä¸€ä¸ª <code>KeyboardInterrupt &lt;https://docs.python.org/2.7/library/exceptions.html#exceptions.KeyboardInterrupt&gt;</code>_
                å¼‚å¸¸::</p>
            <pre class="prettyprint"><code>&gt;&gt;&gt; while True:
...     try:
...         x = int(raw_input("Please enter a number: "))
...         break
...     except ValueError:
...         print "Oops!  That was no valid number.  Try again..."
...
</code></pre>
            <p><code>try &lt;https://docs.python.org/2.7/reference/compound_stmts.html#try&gt;</code>_ è¯­å¥æŒ‰å¦‚ä¸‹æ–¹å¼å·¥ä½œï¼š</p>
            <ul>
                <li><p>é¦–å…ˆï¼Œæ‰§è¡Œ <em>try</em> å­å¥(åœ¨ <code>try &lt;https://docs.python.org/2.7/reference/compound_stmts.html#try&gt;</code>_
                    å’Œ <code>except &lt;https://docs.python.org/2.7/reference/compound_stmts.html#except&gt;</code>_
                    å…³é”®å­—ä¹‹é—´çš„éƒ¨åˆ†)ã€‚</p></li>
                <li><p>å¦‚æœæ²¡æœ‰å¼‚å¸¸å‘ç”Ÿï¼Œ<em>except</em> å­å¥åœ¨ <code>try &lt;https://docs.python.org/2.7/reference/compound_stmts.html#try&gt;</code>_
                    è¯­å¥æ‰§è¡Œå®Œæ¯•åå°±è¢«å¿½ç•¥äº†ã€‚</p></li>
                <li><p>å¦‚æœåœ¨ try å­å¥æ‰§è¡Œè¿‡ç¨‹ä¸­å‘ç”Ÿäº†å¼‚å¸¸ï¼Œé‚£ä¹ˆè¯¥å­å¥å…¶ä½™çš„éƒ¨åˆ†å°±ä¼šè¢«å¿½ç•¥ã€‚</p>
                    <p>å¦‚æœå¼‚å¸¸åŒ¹é…äº <code>except
                        &lt;https://docs.python.org/2.7/reference/compound_stmts.html#except&gt;</code>_ å…³é”®å­—åé¢æŒ‡å®šçš„å¼‚å¸¸ç±»å‹ï¼Œ
                    </p>
                    <p>å°±æ‰§è¡Œå¯¹åº”çš„ <code>except
                        &lt;https://docs.python.org/2.7/reference/compound_stmts.html#except&gt;</code>_ å­å¥ã€‚</p>
                    <p>ç„¶åç»§ç»­æ‰§è¡Œ <code>try &lt;https://docs.python.org/2.7/reference/compound_stmts.html#try&gt;</code>_
                        è¯­å¥ä¹‹åçš„ä»£ç ã€‚</p></li>
                <li><p>å¦‚æœå‘ç”Ÿäº†ä¸€ä¸ªå¼‚å¸¸ï¼Œåœ¨ <code>except
                    &lt;https://docs.python.org/2.7/reference/compound_stmts.html#except&gt;</code>_ å­å¥ä¸­æ²¡æœ‰ä¸ä¹‹åŒ¹é…çš„åˆ†æ”¯ï¼Œ</p>
                    <p>å®ƒå°±ä¼šä¼ é€’åˆ°ä¸Šä¸€çº§ <code>try &lt;https://docs.python.org/2.7/reference/compound_stmts.html#try&gt;</code>_
                        è¯­å¥ä¸­ã€‚</p>
                    <p>å¦‚æœæœ€ç»ˆä»æ‰¾ä¸åˆ°å¯¹åº”çš„å¤„ç†è¯­å¥ï¼Œå®ƒå°±æˆä¸ºä¸€ä¸ª <em>æœªå¤„ç†å¼‚å¸¸</em>ï¼Œç»ˆæ­¢ç¨‹åºè¿è¡Œï¼Œæ˜¾ç¤ºæç¤ºä¿¡æ¯ã€‚</p></li>
            </ul>
            <p>ä¸€ä¸ª <code>try &lt;https://docs.python.org/2.7/reference/compound_stmts.html#try&gt;</code>_ è¯­å¥å¯èƒ½åŒ…å«å¤šä¸ª
                except å­å¥ï¼Œåˆ†åˆ«æŒ‡å®šå¤„ç†ä¸åŒçš„å¼‚å¸¸ã€‚è‡³å¤šåªä¼šæœ‰ä¸€ä¸ªåˆ†æ”¯è¢«æ‰§è¡Œã€‚å¼‚å¸¸å¤„ç†ç¨‹åºåªä¼šå¤„ç†å¯¹åº”çš„ try å­å¥ä¸­å‘ç”Ÿçš„å¼‚å¸¸ï¼Œåœ¨åŒä¸€ä¸ª <code>try &lt;https://docs.python.org/2.7/reference/compound_stmts.html#try&gt;</code>_
                è¯­å¥ä¸­ï¼Œå…¶ä»–å­å¥ä¸­å‘ç”Ÿçš„å¼‚å¸¸åˆ™ä¸ä½œå¤„ç†ã€‚ä¸€ä¸ª except å­å¥å¯ä»¥åœ¨æ‹¬å·ä¸­åˆ—å‡ºå¤šä¸ªå¼‚å¸¸çš„åå­—ï¼Œä¾‹å¦‚::</p>
            <pre class="prettyprint"><code>... except (RuntimeError, TypeError, NameError):
...     pass
</code></pre>
            <p>æ³¨æ„ï¼Œæ­¤å…ƒç»„å‘¨å›´çš„æ‹¬å·æ˜¯å¿…éœ€çš„ï¼Œå› ä¸º <code>except ValueError, e:</code> æ˜¯æ—§å¼çš„å†™æ³•ï¼Œåœ¨ç°ä»£ Python ä¸­é€šå¸¸å†™æˆ <code>except ValueError,
                e:</code> ï¼ˆå¦‚ä¸‹æ‰€è¿°ï¼‰ã€‚ä¸ºäº†ä¿æŒå‘åå…¼å®¹æ€§ï¼Œæ—§å¼è¯­æ³•ä»ç„¶æ˜¯æ”¯æŒçš„ã€‚è¿™æ„å‘³ç€ <code>except RuntimeError, TypeError</code> ä¸ç­‰åŒäº <code>except
                (RuntimeError, TypeError):</code> è€Œç­‰åŒäº <code>except RuntimeError as
                TypeError:</code> , è¿™åº”è¯¥ä¸æ˜¯ä½ æƒ³è¦çš„ã€‚</p>
            <p>æœ€åä¸€ä¸ª except å­å¥å¯ä»¥çœç•¥å¼‚å¸¸åç§°ï¼Œä»¥ä½œä¸ºé€šé…ç¬¦ä½¿ç”¨ã€‚ä½ éœ€è¦æ…ç”¨æ­¤æ³•ï¼Œå› ä¸ºå®ƒä¼šè½»æ˜“éšè—ä¸€ä¸ªå®é™…çš„ç¨‹åºé”™è¯¯ï¼å¯ä»¥ä½¿ç”¨è¿™ç§æ–¹æ³•æ‰“å°ä¸€æ¡é”™è¯¯ä¿¡æ¯ï¼Œç„¶åé‡æ–°æŠ›å‡ºå¼‚å¸¸(å…è®¸è°ƒç”¨è€…å¤„ç†è¿™ä¸ªå¼‚å¸¸)::</p>
            <pre class="prettyprint"><code>import sys

try:
   f = open('myfile.txt')
   s = f.readline()
   i = int(s.strip())
except IOError as e:
   print "I/O error({0}): {1}".format(e.errno, e.strerror)
except ValueError:
   print "Could not convert data to an integer."
except:
   print "Unexpected error:", sys.exc_info()[0]
   raise
</code></pre>
            <p><code>try &lt;https://docs.python.org/2.7/reference/compound_stmts.html#try&gt;</code>_ ... <code>except
                &lt;https://docs.python.org/2.7/reference/compound_stmts.html#except&gt;</code>_ è¯­å¥å¯ä»¥å¸¦æœ‰ä¸€ä¸ª
                <em>elseå­å¥</em> ï¼Œè¯¥å­å¥åªèƒ½å‡ºç°åœ¨æ‰€æœ‰ except å­å¥ä¹‹åã€‚å½“ try è¯­å¥æ²¡æœ‰æŠ›å‡ºå¼‚å¸¸æ—¶ï¼Œéœ€è¦æ‰§è¡Œä¸€äº›ä»£ç ï¼Œå¯ä»¥ä½¿ç”¨è¿™ä¸ªå­å¥ã€‚ä¾‹å¦‚ ::</p>
            <pre class="prettyprint"><code>for arg in sys.argv[1:]:
   try:
       f = open(arg, 'r')
   except IOError:
       print 'cannot open', arg
   else:
       print arg, 'has', len(f.readlines()), 'lines'
       f.close()
</code></pre>
            <p>ä½¿ç”¨ <code>else &lt;https://docs.python.org/2.7/reference/compound_stmts.html#else&gt;</code>_ å­å¥æ¯”åœ¨ <code>try
                &lt;https://docs.python.org/2.7/reference/compound_stmts.html#try&gt;</code>_ å­å¥ä¸­é™„åŠ ä»£ç è¦å¥½ï¼Œå› ä¸ºè¿™æ ·å¯ä»¥é¿å… <code>try
                &lt;https://docs.python.org/2.7/reference/compound_stmts.html#try&gt;</code>_ ... <code>except &lt;https://docs.python.org/2.7/reference/compound_stmts.html#except&gt;</code>_
                æ„å¤–çš„æˆªè·æœ¬æ¥ä¸å±äºå®ƒä»¬ä¿æŠ¤çš„é‚£äº›ä»£ç æŠ›å‡ºçš„å¼‚å¸¸ã€‚ </p>
            <p>å‘ç”Ÿå¼‚å¸¸æ—¶ï¼Œå¯èƒ½ä¼šæœ‰ä¸€ä¸ªé™„å±å€¼ï¼Œä½œä¸ºå¼‚å¸¸çš„ <em>å‚æ•°</em> å­˜åœ¨ã€‚è¿™ä¸ªå‚æ•°æ˜¯å¦å­˜åœ¨ã€æ˜¯ä»€ä¹ˆç±»å‹ï¼Œä¾èµ–äºå¼‚å¸¸çš„ç±»å‹ã€‚ </p>
            <p>åœ¨å¼‚å¸¸å(åˆ—è¡¨)ä¹‹åï¼Œä¹Ÿå¯ä»¥ä¸º except å­å¥æŒ‡å®šä¸€ä¸ªå˜é‡ã€‚è¿™ä¸ªå˜é‡ç»‘å®šäºä¸€ä¸ªå¼‚å¸¸å®ä¾‹ï¼Œå®ƒå­˜å‚¨åœ¨ <code>instance.args</code> çš„å‚æ•°ä¸­ã€‚ä¸ºäº†æ–¹ä¾¿èµ·è§ï¼Œå¼‚å¸¸å®ä¾‹å®šä¹‰äº† <code>__str__()
                &lt;https://docs.python.org/2.7/reference/datamodel.html#object.__str__&gt;</code>_ ï¼Œè¿™æ ·å°±å¯ä»¥ç›´æ¥è®¿é—®è¿‡æ‰“å°å‚æ•°è€Œä¸å¿…å¼•ç”¨
                <code>.args</code>ã€‚è¿™ç§åšæ³•ä¸å—é¼“åŠ±ã€‚ç›¸åï¼Œæ›´å¥½çš„åšæ³•æ˜¯ç»™å¼‚å¸¸ä¼ é€’ä¸€ä¸ªå‚æ•°(å¦‚æœè¦ä¼ é€’å¤šä¸ªå‚æ•°ï¼Œå¯ä»¥ä¼ é€’ä¸€ä¸ªå…ƒç»„)ï¼ŒæŠŠå®ƒç»‘å®šåˆ° message
                å±æ€§ã€‚ä¸€æ—¦å¼‚å¸¸å‘ç”Ÿï¼Œå®ƒä¼šåœ¨æŠ›å‡ºå‰ç»‘å®šæ‰€æœ‰æŒ‡å®šçš„å±æ€§::</p>
            <pre class="prettyprint"><code>&gt;&gt;&gt; try:
...    raise Exception('spam', 'eggs')
... except Exception as inst:
...    print type(inst)     # the exception instance
...    print inst.args      # arguments stored in .args
...    print inst           # __str__ allows args to be printed directly
...    x, y = inst.args
...    print 'x =', x
...    print 'y =', y
...
&lt;type 'exceptions.Exception'&gt;
('spam', 'eggs')
('spam', 'eggs')
x = spam
y = eggs
</code></pre>
            <p>å¯¹äºé‚£äº›æœªå¤„ç†çš„å¼‚å¸¸ï¼Œå¦‚æœä¸€ä¸ªå®ƒä»¬å¸¦æœ‰å‚æ•°ï¼Œé‚£ä¹ˆå°±ä¼šè¢«ä½œä¸ºå¼‚å¸¸ä¿¡æ¯çš„æœ€åéƒ¨åˆ†(â€œè¯¦æƒ…â€)æ‰“å°å‡ºæ¥ã€‚</p>
            <p>å¼‚å¸¸å¤„ç†å™¨ä¸ä»…ä»…å¤„ç†é‚£äº›åœ¨ try å­å¥ä¸­ç«‹åˆ»å‘ç”Ÿçš„å¼‚å¸¸ï¼Œä¹Ÿä¼šå¤„ç†é‚£äº› try å­å¥ä¸­è°ƒç”¨çš„å‡½æ•°å†…éƒ¨å‘ç”Ÿçš„å¼‚å¸¸ã€‚ä¾‹å¦‚::</p>
            <pre class="prettyprint"><code>&gt;&gt;&gt; def this_fails():
...     x = 1/0
...
&gt;&gt;&gt; try:
...     this_fails()
... except ZeroDivisionError as detail:
...     print 'Handling run-time error:', detail
...
Handling run-time error: int division or modulo by zero
</code></pre>
            <div class="dsd_title_1"><a href="#top" id="4"><h2>4 æŠ›å‡ºå¼‚å¸¸</h2></a></div>
            <p><code>raise &lt;https://docs.python.org/2.7/reference/simple_stmts.html#raise&gt;</code>_
                è¯­å¥å…è®¸ç¨‹åºå‘˜å¼ºåˆ¶æŠ›å‡ºä¸€ä¸ªæŒ‡å®šçš„å¼‚å¸¸ã€‚ä¾‹å¦‚::</p>
            <blockquote>
                <blockquote>
                    <blockquote>
                        <p>raise NameError('HiThere')
                            Traceback (most recent call last):
                            File "
                            <stdin>", line 1, in ?
                                NameError: HiThere
                        </p>
                    </blockquote>
                </blockquote>
            </blockquote>
            <p>è¦æŠ›å‡ºçš„å¼‚å¸¸ç”± <code>raise &lt;https://docs.python.org/2.7/reference/simple_stmts.html#raise&gt;</code>_
                çš„å”¯ä¸€å‚æ•°æ ‡è¯†ã€‚å®ƒå¿…éœ€æ˜¯ä¸€ä¸ªå¼‚å¸¸å®ä¾‹æˆ–å¼‚å¸¸ç±»(ç»§æ‰¿è‡ª :class:<code>Exception</code> çš„ç±»)ã€‚</p>
            <p>å¦‚æœä½ éœ€è¦æ˜ç¡®ä¸€ä¸ªå¼‚å¸¸æ˜¯å¦æŠ›å‡ºï¼Œä½†ä¸æƒ³å¤„ç†å®ƒï¼Œ<code>raise
                &lt;https://docs.python.org/2.7/reference/simple_stmts.html#raise&gt;</code>_ è¯­å¥å¯ä»¥è®©ä½ å¾ˆç®€å•çš„é‡æ–°æŠ›å‡ºè¯¥å¼‚å¸¸::</p>
            <blockquote>
                <blockquote>
                    <blockquote>
                        <p>try:
                            ... raise NameError('HiThere')
                            ... except NameError:
                            ... print 'An exception flew by!'
                            ... raise
                            ...
                            An exception flew by!
                            Traceback (most recent call last):
                            File "
                            <stdin>", line 2, in ?
                                NameError: HiThere
                        </p>
                    </blockquote>
                </blockquote>
            </blockquote>
            <p>.. _tut-userexceptions:</p>
            <div class="dsd_title_1"><a href="#top" id="5"><h2>5 ç”¨æˆ·è‡ªå®šä¹‰å¼‚å¸¸</h2></a></div>
            <p>åœ¨ç¨‹åºä¸­å¯ä»¥é€šè¿‡åˆ›å»ºæ–°çš„å¼‚å¸¸ç±»å‹æ¥å‘½åè‡ªå·±çš„å¼‚å¸¸(Python ç±»çš„å†…å®¹è¯·å‚è§ :ref:<code>tut-classes</code> )ã€‚å¼‚å¸¸ç±»é€šå¸¸åº”è¯¥ç›´æ¥æˆ–é—´æ¥çš„ä» <code>Exception
                &lt;https://docs.python.org/2.7/library/exceptions.html#exceptions.Exception&gt;</code>_ ç±»æ´¾ç”Ÿï¼Œä¾‹å¦‚::</p>
            <pre class="prettyprint"><code>&gt;&gt;&gt; class MyError(Exception):
...     def __init__(self, value):
...         self.value = value
...     def __str__(self):
...         return repr(self.value)
...
&gt;&gt;&gt; try:
...     raise MyError(2*2)
... except MyError as e:
...     print 'My exception occurred, value:', e.value
...
My exception occurred, value: 4
&gt;&gt;&gt; raise MyError('oops!')
Traceback (most recent call last):
 File "&lt;stdin&gt;", line 1, in ?
__main__.MyError: 'oops!'
</code></pre>
            <p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ:class:<code>Exception</code> é»˜è®¤çš„ <code>__init__() &lt;https://docs.python.org/2.7/reference/datamodel.html#object.__init__&gt;</code>_
                è¢«è¦†ç›–ã€‚æ–°çš„æ–¹å¼ç®€å•çš„åˆ›å»º <em>value</em> å±æ€§ã€‚è¿™å°±æ›¿æ¢äº†åŸæ¥åˆ›å»º <em>args</em> å±æ€§çš„æ–¹å¼ã€‚ </p>
            <p>
                å¼‚å¸¸ç±»ä¸­å¯ä»¥å®šä¹‰ä»»ä½•å…¶å®ƒç±»ä¸­å¯ä»¥å®šä¹‰çš„ä¸œè¥¿ï¼Œä½†æ˜¯é€šå¸¸ä¸ºäº†ä¿æŒç®€å•ï¼Œåªåœ¨å…¶ä¸­åŠ å…¥å‡ ä¸ªå±æ€§ä¿¡æ¯ï¼Œä»¥ä¾›å¼‚å¸¸å¤„ç†å¥æŸ„æå–ã€‚å¦‚æœä¸€ä¸ªæ–°åˆ›å»ºçš„æ¨¡å—ä¸­éœ€è¦æŠ›å‡ºå‡ ç§ä¸åŒçš„é”™è¯¯æ—¶ï¼Œä¸€ä¸ªé€šå¸¸çš„ä½œæ³•æ˜¯ä¸ºè¯¥æ¨¡å—å®šä¹‰ä¸€ä¸ªå¼‚å¸¸åŸºç±»ï¼Œç„¶åé’ˆå¯¹ä¸åŒçš„é”™è¯¯ç±»å‹æ´¾ç”Ÿå‡ºå¯¹åº”çš„å¼‚å¸¸å­ç±»::</p>
            <pre class="prettyprint"><code>class Error(Exception):
   """Base class for exceptions in this module."""
   pass

class InputError(Error):
   """Exception raised for errors in the input.

   Attributes:
       expr -- input expression in which the error occurred
       msg  -- explanation of the error
   """

   def __init__(self, expr, msg):
       self.expr = expr
       self.msg = msg

class TransitionError(Error):
   """Raised when an operation attempts a state transition that's not
   allowed.

   Attributes:
       prev -- state at beginning of transition
       next -- attempted new state
       msg  -- explanation of why the specific transition is not allowed
   """

   def __init__(self, prev, next, msg):
       self.prev = prev
       self.next = next
       self.msg = msg
</code></pre>
            <p>ä¸æ ‡å‡†å¼‚å¸¸ç›¸ä¼¼ï¼Œå¤§å¤šæ•°å¼‚å¸¸çš„å‘½åéƒ½ä»¥ â€œErrorâ€ ç»“å°¾ã€‚</p>
            <p>å¾ˆå¤šæ ‡å‡†æ¨¡å—ä¸­éƒ½å®šä¹‰äº†è‡ªå·±çš„å¼‚å¸¸ï¼Œç”¨ä»¥æŠ¥å‘Šåœ¨ä»–ä»¬æ‰€å®šä¹‰çš„å‡½æ•°ä¸­å¯èƒ½å‘ç”Ÿçš„é”™è¯¯ã€‚å…³äºç±»çš„è¿›ä¸€æ­¥ä¿¡æ¯è¯·å‚è§ :ref:<code>tut-classes</code> ä¸€ç« ã€‚</p>
            <div class="dsd_title_1"><a href="#top" id="6"><h2>6 å®šä¹‰æ¸…ç†è¡Œä¸º</h2></a></div>
            <p><code>try &lt;https://docs.python.org/2.7/reference/compound_stmts.html#try&gt;</code>_
                è¯­å¥è¿˜æœ‰å¦ä¸€ä¸ªå¯é€‰çš„å­å¥ï¼Œç›®çš„åœ¨äºå®šä¹‰åœ¨ä»»ä½•æƒ…å†µä¸‹éƒ½ä¸€å®šè¦æ‰§è¡Œçš„åŠŸèƒ½ã€‚ä¾‹å¦‚::</p>
            <pre class="prettyprint"><code>&gt;&gt;&gt; try:
...     raise KeyboardInterrupt
... finally:
...     print 'Goodbye, world!'
...
Goodbye, world!
Traceback (most recent call last):
 File "&lt;stdin&gt;", line 2, in ?
KeyboardInterrupt
</code></pre>
            <p>ä¸ç®¡æœ‰æ²¡æœ‰å‘ç”Ÿå¼‚å¸¸ï¼Œ<em>finallyå­å¥</em> åœ¨ç¨‹åºç¦»å¼€ <code>try &lt;https://docs.python.org/2.7/reference/compound_stmts.html#try&gt;</code>_
                åéƒ½ä¸€å®šä¼šè¢«æ‰§è¡Œã€‚å½“ <code>try &lt;https://docs.python.org/2.7/reference/compound_stmts.html#try&gt;</code>_
                è¯­å¥ä¸­å‘ç”Ÿäº†æœªè¢« <code>except &lt;https://docs.python.org/2.7/reference/compound_stmts.html#except&gt;</code>_
                æ•è·çš„å¼‚å¸¸(æˆ–è€…å®ƒå‘ç”Ÿåœ¨ <code>except
                    &lt;https://docs.python.org/2.7/reference/compound_stmts.html#except&gt;</code>_ æˆ– <code>else &lt;https://docs.python.org/2.7/reference/compound_stmts.html#else&gt;</code>_
                å­å¥ä¸­)ï¼Œåœ¨ <code>finally &lt;https://docs.python.org/2.7/reference/compound_stmts.html#finally&gt;</code>_
                å­å¥æ‰§è¡Œå®Œåå®ƒä¼šè¢«é‡æ–°æŠ›å‡ºã€‚<code>try &lt;https://docs.python.org/2.7/reference/compound_stmts.html#try&gt;</code>_
                è¯­å¥ç»ç”± <code>break &lt;https://docs.python.org/2.7/reference/simple_stmts.html#break&gt;</code><em>ï¼Œ<code>continue
                    &lt;https://docs.python.org/2.7/reference/simple_stmts.html#continue&gt;</code></em> æˆ– <code>return
                    &lt;https://docs.python.org/2.7/reference/simple_stmts.html#return&gt;</code>_ è¯­å¥é€€å‡ºä¹Ÿä¸€æ ·ä¼šæ‰§è¡Œ <code>finally
                    &lt;https://docs.python.org/2.7/reference/compound_stmts.html#finally&gt;</code>_ å­å¥ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªæ›´å¤æ‚äº›çš„ä¾‹å­(åœ¨åŒ
                ä¸€ä¸ª <code>try &lt;https://docs.python.org/2.7/reference/compound_stmts.html#try&gt;</code>_ è¯­å¥ä¸­çš„ <code>except
                    &lt;https://docs.python.org/2.7/reference/compound_stmts.html#except&gt;</code>_ å’Œ <code>finally
                    &lt;https://docs.python.org/2.7/reference/compound_stmts.html#finally&gt;</code>_ å­å¥çš„å·¥ä½œæ–¹å¼ä¸ Python
                2.5 ä¸€æ ·)::</p>
            <pre class="prettyprint"><code>&gt;&gt;&gt; def divide(x, y):
...     try:
...         result = x / y
...     except ZeroDivisionError:
...         print "division by zero!"
...     else:
...         print "result is", result
...     finally:
...         print "executing finally clause"
...
&gt;&gt;&gt; divide(2, 1)
result is 2
executing finally clause
&gt;&gt;&gt; divide(2, 0)
division by zero!
executing finally clause
&gt;&gt;&gt; divide("2", "1")
executing finally clause
Traceback (most recent call last):
 File "&lt;stdin&gt;", line 1, in ?
 File "&lt;stdin&gt;", line 3, in divide
TypeError: unsupported operand type(s) for /: 'str' and 'str'
</code></pre>
            <p>å¦‚ä½ æ‰€è§ï¼Œ<code>finally &lt;https://docs.python.org/2.7/reference/compound_stmts.html#finally&gt;</code>_
                å­å¥åœ¨ä»»ä½•æƒ…å†µä¸‹éƒ½ä¼šæ‰§è¡Œã€‚<code>TypeError &lt;https://docs.python.org/2.7/library/exceptions.html#exceptions.TypeError&gt;</code>_
                åœ¨ä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸é™¤çš„æ—¶å€™æŠ›å‡ºï¼Œæœªè¢« except å­å¥æ•è·ï¼Œå› æ­¤åœ¨ <code>finally &lt;https://docs.python.org/2.7/reference/compound_stmts.html#finally&gt;</code>_
                å­å¥æ‰§è¡Œå®Œæ¯•åé‡æ–°æŠ›å‡ºã€‚ </p>
            <p>åœ¨çœŸå®åœºæ™¯çš„åº”ç”¨ç¨‹åºä¸­ï¼Œ<code>finally
                &lt;https://docs.python.org/2.7/reference/compound_stmts.html#finally&gt;</code>_
                å­å¥ç”¨äºé‡Šæ”¾å¤–éƒ¨èµ„æº(æ–‡ä»¶æˆ–ç½‘ç»œè¿æ¥ä¹‹ç±»çš„)ï¼Œæ— è®ºå®ƒä»¬çš„ä½¿ç”¨è¿‡ç¨‹ä¸­æ˜¯å¦å‡ºé”™ã€‚</p>
            <div class="dsd_title_1"><a href="#top" id="7"><h2>7 é¢„å®šä¹‰æ¸…ç†è¡Œä¸º</h2></a></div>
            <p>æœ‰äº›å¯¹è±¡å®šä¹‰äº†æ ‡å‡†çš„æ¸…ç†è¡Œä¸ºï¼Œæ— è®ºå¯¹è±¡æ“ä½œæ˜¯å¦æˆåŠŸï¼Œä¸å†éœ€è¦è¯¥å¯¹è±¡çš„æ—¶å€™å°±ä¼šèµ·ä½œç”¨ã€‚ä»¥ä¸‹ç¤ºä¾‹å°è¯•æ‰“å¼€æ–‡ä»¶å¹¶æŠŠå†…å®¹æ‰“å°åˆ°å±å¹•ä¸Š::</p>
            <pre class="prettyprint"><code>for line in open("myfile.txt"):
   print line
</code></pre>
            <p>è¿™æ®µä»£ç çš„é—®é¢˜åœ¨äºåœ¨ä»£ç æ‰§è¡Œå®Œåæ²¡æœ‰ç«‹å³å…³é—­æ‰“å¼€çš„æ–‡ä»¶ã€‚è¿™åœ¨ç®€å•çš„è„šæœ¬é‡Œæ²¡ä»€ä¹ˆï¼Œä½†æ˜¯å¤§å‹åº”ç”¨ç¨‹åºå°±ä¼šå‡ºé—®é¢˜ã€‚<code>with &lt;https://docs.python.org/2.7/reference/compound_stmts.html#with&gt;</code>_
                è¯­å¥ä½¿å¾—æ–‡ä»¶ä¹‹ç±»çš„å¯¹è±¡å¯ä»¥ç¡®ä¿æ€»èƒ½åŠæ—¶å‡†ç¡®åœ°è¿›è¡Œæ¸…ç†::</p>
            <pre class="prettyprint"><code>with open("myfile.txt") as f:
   for line in f:
       print line
</code></pre>
            <p>è¯­å¥æ‰§è¡Œåï¼Œæ–‡ä»¶ <em>f</em> æ€»ä¼šè¢«å…³é—­ï¼Œå³ä½¿æ˜¯åœ¨å¤„ç†æ–‡ä»¶ä¸­çš„æ•°æ®æ—¶å‡ºé”™ä¹Ÿä¸€æ ·ã€‚å…¶å®ƒå¯¹è±¡æ˜¯å¦æä¾›äº†é¢„å®šä¹‰çš„æ¸…ç†è¡Œä¸ºè¦æŸ¥çœ‹å®ƒä»¬çš„æ–‡æ¡£ã€‚</p>
            <span>è½¬è½½è¯·ä¿ç•™åŸæ–‡é“¾æ¥: <a href="http://dashidan.com/article/python/index.html">http://dashidan.com/article/python/index.html</a>
                </span>
        </div>
    </div>

    <div id="xs_content"></div>
    <div class="text-center">
        <div>
            <a href="http://dashidan.com/article/python/doc27/9.html">ğŸ“–
                ä¸‹ä¸€ç¯‡: ç±»</a>
        </div>
    </div>
</div>

<div style="display:none;">
    <script src="https://s19.cnzz.com/z_stat.php?id=1264355070&web_id=1264355070" language="JavaScript"></script>
</div>

<script src="http://dashidan.com/js/jquery-3.2.1.min.js"></script>
<script src="http://dashidan.com/js/vendor/modernizr-custom.js"></script>
<script src="http://dashidan.com/js/bootstrap.js"></script>
<script src="http://dashidan.com/js/google-code-prettify/run_prettify.js"></script>
<script src="http://dashidan.com/js/main.js"></script>
</body>
</html>
