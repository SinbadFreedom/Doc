<!doctype html>
<html class="no-js" lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>JDK8æ–¹æ³•å¼•ç”¨</title>
    <meta name="description" content="JDK8æ–¹æ³•å¼•ç”¨">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Expires" content="0">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Cache-control" content="no-cache">
    <meta http-equiv="Cache" content="no-cache">

    <link rel="stylesheet" href="http://dashidan.com/css/bootstrap.css">
    <link rel="stylesheet" href="http://dashidan.com/css/dashidan.css">
</head>
<body>

<!--[if lte IE 9]>
<p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade
    your browser</a> to improve your experience and security.</p>
<![endif]-->

<nav class="navbar navbar-default">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                    data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">
                <img src="http://dashidan.com/img/dsd24.png">
            </a>
            <a class="navbar-brand" href="http://dashidan.com/index.html">å¤§å±è›‹æ•™ç¨‹ç½‘</a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <li><a href="http://dashidan.com/about.html">å…³äº</a></li>
                <li><a href="http://dashidan.com/thanks.html">é¸£è°¢</a></li>
                <li><a href="http://dashidan.com/siteMap.html">ç½‘ç«™åœ°å›¾</a></li>
            </ul>
        </div>
    </div>
</nav>

<div class="container">
    <!-- é¡¶éƒ¨é¢åŒ…å±‘å¯¼èˆª-->
    <ol class="breadcrumb">
        <li><a href="http://dashidan.com/index.html">é¦–é¡µ</a></li>
        <li class="active"><a href="http://dashidan.com/article/java/index.html">Java</a></li>
    </ol>
    <div id="xs_index" class="col-sm-3 col-md-3 col-lg-3 col-xs-12 hidden-xs">
        <!--
        <div id="xs_index_close" class="text-right visible-xs" onclick="hideIndex()">
            å…³é—­â
            <hr>
        </div>
		-->
        <div>
            <div class="dsd_title" onclick="clickTitle('basic')">
                <h3><span id="basic_title">â• Javaå…¥é—¨åˆ°ç²¾é€š</span></h3>
            </div>

            <div id="basic" class="dsd_catalog_left_hide">
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/basic/1.html">1.Javaæ•™ç¨‹æ¦‚è¿°</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/basic/2.html">2.æ­å»ºJavaå¼€å‘ç¯å¢ƒ</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/basic/3.html">3.ç¬¬ä¸€ä¸ªJavaç¨‹åº</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/basic/4.html">4.Javaä»£ç æ³¨é‡Š</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/basic/5.html">5.Javaå˜é‡</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/basic/6.html">6.Javaé›†æˆå¼€å‘ç¯å¢ƒ</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/basic/7.html">7.Javaè¿ç®—ç¬¦</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/basic/8.html">8.Javaæ–¹æ³•</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/basic/9.html">9.Javaæµç¨‹æ§åˆ¶</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/basic/10.html">10.Javaå‘½åç©ºé—´</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/basic/11.html">11.Javaæ•°ç»„</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/basic/12.html">12.Javaé™æ€å˜é‡ä¸å¸¸é‡</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/basic/13.html">13.Javaå¯¹è±¡</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/basic/14.html">14.JavaåŒ…è£…ç±»</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/basic/15.html">15.Javaé›†åˆç±»</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/basic/16.html">16.Javaå¼‚å¸¸</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/basic/17.html">17.Javaä½è¿ç®—</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/basic/18.html">18.Javaè½¬ä¹‰å­—ç¬¦</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/basic/19.html">19.Javaçº¿ç¨‹</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/basic/20.html">20.Javaè®¾è®¡æ¨¡å¼</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/basic/21.html">21.Javaç¼–ç ä¼˜åŒ–</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/basic/22.html">22.jvmå‚æ•°ä¼˜åŒ–</a>
                </div>
            </div>

            <div class="dsd_title" onclick="clickTitle('jdk8')">
                <h3 id="jdk8_title">â• JDK8æ–°ç‰¹æ€§</h3>
            </div>
            <div id="jdk8" class="dsd_catalog_left_hide">
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/jdk8/1.html">1.JDK8æ–°å¢è¯­æ³•ç‰¹æ€§ç®€ä»‹</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/jdk8/2.html">2.JDK8å‡½æ•°å¼æ¥å£</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/jdk8/3.html">3.Javaä¸­Lambdaè¡¨è¾¾å¼ç”±æ¥</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/jdk8/4.html">4.Lamdbaè¡¨è¾¾å¼åœ¨Javaä¸­çš„å®æˆ˜åº”ç”¨</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/jdk8/5.html">5.JDK8çš„defaultæ–¹æ³•</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/jdk8/6.html">6.JDK8æ–¹æ³•å¼•ç”¨</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/jdk8/7.html">7.JDK8é›†åˆç±»åº“çš„æ‰¹é‡æ•°æ®æ“ä½œ</a>
                </div>
            </div>

            <div class="dsd_title" onclick="clickTitle('api6')">
                <h3><span id="api6_title">â• JDK6ä¸­æ–‡æ–‡æ¡£</span></h3>
            </div>

            <div id="api6" class="dsd_catalog_left_hide">
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/api6/index.html">JDK6ä¸­æ–‡æ–‡æ¡£ä¸»é¡µ</a>
                </div>
            </div>

            <div class="dsd_title" onclick="clickTitle('addenda')">
                <h3 id="addenda_title">â• é™„å½•</h3>
            </div>
            <div id="addenda" class="dsd_catalog_left_hide">
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/addenda/1.html">1.Javaä¸­@Overrideæ ‡ç­¾ä½œç”¨</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/addenda/2.html">2.Javaç¼–ç è§„èŒƒ</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/addenda/3.html">3.Javaä¿ç•™å…³é”®å­—</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/addenda/4.html">4.Linuxé…ç½®Javaç¯å¢ƒ</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/addenda/5.html">5.é˜¿é‡Œå·´å·´Javaå¼€å‘æ‰‹å†Œ</a>
                </div>
            </div>

        </div>
    </div>
    <div id="sx_index_button" class="visible-xs-block" onclick="showIndex()">
        <!-- å°å±æ˜¾ç¤ºç›®å½•-->
        <div id="sx_index_button_text">
            <span style="color: white">ğŸ”–ç›®å½•</span>
        </div>
    </div>
    <div class="col-sm-9 col-md-9 col-lg-9">
        <!-- æ–‡ç« å†…å®¹-->
        <div class="dsd_title"><h1>JDK8æ–¹æ³•å¼•ç”¨</h1></div>

        <div id="xs_content_border">
            <div>
                <div class="dsd_title"><h1>6.JDK8æ–¹æ³•å¼•ç”¨(method referrance)</h1></div>
                <div class="dsd_catalog"><p><a href="#â‘ ">â‘  æ–¹æ³•å¼•ç”¨çš„æ¦‚å¿µ</a></p>
                    <p><a href="#â‘¡">â‘¡ æ–¹æ³•å¼•ç”¨çš„ç§ç±»</a></p>
                    <p><a href="#â‘¢">â‘¢ ç›¸å…³æ–‡ç« </a></p>
                    <p><a href="#â‘£">â‘£ å‚è€ƒæ–‡ç« </a></p></div>
            </div>
            <div class="dsd_title"><a href="#top" id="â‘ ">â‘  æ–¹æ³•å¼•ç”¨çš„æ¦‚å¿µ</a></div>
            <p>æŸäº›lambdaè¡¨è¾¾å¼é‡Œé¢ä»…ä»…æ˜¯æ‰§è¡Œä¸€ä¸ªæ–¹æ³•è°ƒç”¨. åœ¨è¿™ç§æƒ…å†µä¸‹,ä¸ç”¨lambdaè¡¨è¾¾å¼,ç›´æ¥é€šè¿‡æ–¹æ³•åç§°å¼•ç”¨æ–¹æ³•çš„å½¢å¼å¯è¯»æ€§æ›´é«˜ä¸€äº›,è¿™ç§å½¢å¼å°±æ˜¯æ–¹æ³•å¼•ç”¨.
                æ–¹æ³•å¼•ç”¨æ˜¯ä¸€ç§æ›´ç®€æ´æ˜“æ‡‚çš„lambdaè¡¨è¾¾å¼.</p>
            <p>çœ‹ä¸‹é¢è¿™ä¸ªPersonç±»:</p>
            <pre class="prettyprint"><code class="java language-java">public class Person {
       public enum Sex {
              MALE, FEMALE
       }
       String name;
       LocalDate birthday;
       Sex gender;
       String emailAddress;
       public int getAge() {
              // ...
       }
       public Calendar getBirthday() {
              return birthday;
       }
       public static int compareByAge(Person a, Person b) {
              return a.birthday.compareTo(b.birthday);
       }
}
</code></pre>
            <p>å‡è®¾ä½ ç¤¾äº¤ç½‘ç»œé‡Œçš„å¥½å‹ä»¬æ„æˆä¸€ä¸ªæ•°ç»„, ç„¶åä½ æƒ³æŒ‰å¥½å‹å¹´é¾„å¯¹æ•°ç»„æ’åº.ä½ å¯èƒ½ä¼šè¿™ä¹ˆå†™ä»£ç :</p>
            <pre class="prettyprint"><code class="java language-java">Person[]rosterAsArray = roster.toArray(new Person[roster.size()]);//å¯è®¤ä¸ºrosteræ˜¯ä½ å¥½å‹çš„åå†Œ
class PersonAgeComparator implements Comparator&lt;Person&gt; {
public int compare(Person a, Person b) {
        return a.getBirthday().compareTo(b.getBirthday());
    }
}
Arrays.sort(rosterAsArray, new PersonAgeComparator());
</code></pre>
            <p>sortæ–¹æ³•å®šä¹‰å¦‚ä¸‹:</p>
            <pre class="prettyprint"><code class="java language-java">static &lt;T&gt; void sort(T[] a, Comparator&lt;? super T&gt; c)
</code></pre>
            <p>Comparatoræ¥å£æ˜¯ä¸€ä¸ªå‡½æ•°æ¥å£. å› æ­¤,è¿™é‡Œå¯ä»¥ä½¿ç”¨lambdaè¡¨è¾¾å¼,çœå»äº†å®šä¹‰PersonAgeComparatorç±»å’Œåˆ›å»ºä¸€ä¸ªç±»å®ä¾‹.</p>
            <p>ä¿®æ”¹å¦‚ä¸‹:</p>
            <pre class="prettyprint"><code class="java language-java">Arrays.sort(rosterAsArray,
    (Person a, Person b) -&gt; {
        return a.getBirthday().compareTo(b.getBirthday());
    }
);
</code></pre>
            <p>ç„¶è€Œ, æ¯”è¾ƒä¸¤ä¸ªPersonå¯¹è±¡çš„ç”Ÿæ—¥å¤§å°çš„æ–¹æ³•Person.compareByAge,å·²ç»åœ¨Personç±»ä¸­å®šä¹‰äº†.
                è¿™æ ·,åœ¨lambdaè¡¨è¾¾å¼ä¸»ä½“å†…ç›´æ¥è°ƒç”¨Person.compareByAgeå°±å¥½äº†:</p>
            <pre class="prettyprint"><code class="java language-java">Arrays.sort(rosterAsArray,
    (a, b) -&gt; Person.compareByAge(a, b)
);
</code></pre>
            <p>å› ä¸ºä¸Šé¢çš„lamdbaè¡¨è¾¾å¼è°ƒç”¨äº†ä¸€ä¸ªç°æˆçš„æ–¹æ³•,æ‰€ä»¥å¯ä»¥ç”¨æ–¹æ³•å¼•ç”¨æ›¿ä»£è¿™ä¸ªlamdbaè¡¨è¾¾å¼:</p>
            <pre class="prettyprint"><code class="java language-java">Arrays.sort(rosterAsArray,
   Person::compareByAge
);
</code></pre>
            <p>æ–¹æ³•å¼•ç”¨Person::compareByAgeè·Ÿlambdaè¡¨è¾¾å¼(a, b) -&gt; Person.compareByAge(a,b)åœ¨è¯­ä¹‰ä¸Šæ˜¯ç­‰ä»·çš„. </p>
            <p>ä¸¤è€…æœ‰å¦‚ä¸‹çš„å…±åŒç‚¹:</p>
            <p>1.å½¢å‚ç›¸åŒ.éƒ½æ˜¯(Person, Person).
                2.è°ƒç”¨æ–¹æ³•Person.compareByAge.</p>
            <div class="dsd_title"><a href="#top" id="â‘¡">â‘¡ æ–¹æ³•å¼•ç”¨çš„ç§ç±»</a></div>
            <table class="table table-bordered table-responsive text-center">
                <thead>
                <tr class="info">
                    <td>ç±»å‹</td>
                    <td>ç¤ºä¾‹</td>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>ç±»é™æ€æ–¹æ³•å¼•ç”¨</td>
                    <td>ContainingClass::staticMethodName</td>
                </tr>
                <tr>
                    <td>æŸä¸ªå¯¹è±¡çš„æ–¹æ³•å¼•ç”¨</td>
                    <td>ContainingObject::instanceMethodName</td>
                </tr>
                <tr>
                    <td>ç‰¹å®šç±»çš„ä»»æ„å¯¹è±¡çš„æ–¹æ³•å¼•ç”¨</td>
                    <td>ContainingType::methodName</td>
                </tr>
                <tr>
                    <td>æ„é€ æ–¹æ³•å¼•ç”¨</td>
                    <td>ClassName::new</td>
                </tr>
                </tbody>
            </table>
            <h3>1.é™æ€æ–¹æ³•å¼•ç”¨</h3>
            <p>æ–¹æ³•å¼•ç”¨Person::compareByAge å°±æ˜¯å¯¹ä¸€ä¸ªé™æ€æ–¹æ³•å¼•ç”¨.</p>
            <h3>2.æŸä¸ªå¯¹è±¡çš„æ–¹æ³•å¼•ç”¨</h3>
            <p>ä¸‹é¢å°±æ˜¯ä¸€ä¸ªå¯¹ç‰¹å®šå¯¹è±¡çš„å®ä¾‹æ–¹æ³•å¼•ç”¨çš„ä¾‹å­:</p>
            <pre class="prettyprint"><code class="java language-java">class ComparisonProvider {
    public int compareByName(Person a, Person b) {
        return a.getName().compareTo(b.getName());
    }
    public int compareByAge(Person a, Person b) {
        return a.getBirthday().compareTo(b.getBirthday());
    }
}
ComparisonProvider myComparisonProvider = new ComparisonProvider();
Arrays.sort(rosterAsArray, myComparisonProvider::compareByName);
</code></pre>
            <p>è¿™ä¸ªæ–¹æ³•å¼•ç”¨myComparisonProvider::compareByNameè°ƒç”¨äº†myComparisonProviderå¯¹è±¡çš„compareByNameæ–¹æ³•.
                JREä¼šæ¨æ–­å‡ºæ–¹æ³•çš„ç±»å‹å‚æ•°,æ¯”å¦‚åœ¨è¿™ä¸ªä¾‹å­ä¸­æ˜¯(Person, Person).</p>
            <h3>3.ç‰¹å®šç±»çš„ä»»æ„å¯¹è±¡çš„æ–¹æ³•å¼•ç”¨</h3>
            <pre class="prettyprint"><code class="java language-java">String[]stringArray = { "Barbara", "James", "Mary", "John",
    "Patricia", "Robert", "Michael", "Linda" };
Arrays.sort(stringArray, String::compareToIgnoreCase);
</code></pre>
            <p>ä¸è¿™ä¸ªæ–¹æ³•å¼•ç”¨String::compareToIgnoreCaseç­‰ä»·çš„lambdaè¡¨è¾¾å¼è¦æœ‰å½¢å‚åˆ—è¡¨(String a, String
                b),æ­¤å¤„aå’Œbæ˜¯éšæ„å–çš„åå­—.è¿™ä¸ªæ–¹æ³•å¼•ç”¨å°†ä¼šè§¦å‘a.compareToIgnoreCase(b) æ–¹æ³•æ‰§è¡Œ.</p>
            <h3>4.æ„é€ æ–¹æ³•å¼•ç”¨</h3>
            <p>ä½¿ç”¨newå…³é”®è¯å¼•ç”¨æ„é€ æ–¹æ³•å°±åƒå¼•ç”¨ç±»é™æ€æ–¹æ³•ä¸€æ ·.ä¸‹é¢æ–¹æ³•å®ç°äº†ä»ä¸€ä¸ªé›†åˆå¤åˆ¶å…¶å…ƒç´ åˆ°å¦ä¸€ä¸ªé›†åˆä¸­:</p>
            <pre class="prettyprint"><code class="java language-java">public static &lt;T, SOURCE extends Collection&lt;T&gt;, DEST extends Collection&lt;T&gt;&gt;
    DEST transferElements(
        SOURCEsourceCollection,
        Supplier&lt;DEST&gt;collectionFactory) {
      DESTresult = collectionFactory.get();
        for (T t : sourceCollection) {
           result.add(t);
        }
        return result;
}
</code></pre>
            <p>å‡½æ•°æ¥å£Supplieræœ‰ä¸€ä¸ªæ–¹æ³•get,getæ— è¾“å…¥å‚æ•°,è¾“å‡ºæ˜¯ä¸€ä¸ªå¯¹è±¡.è¿™æ ·,ä½ å¯ä»¥ä½¿ç”¨ä¸€ä¸ªlambda è¡¨è¾¾å¼è°ƒç”¨transferElementsæ–¹æ³•,å¦‚ä¸‹æ‰€ç¤º:</p>
            <pre class="prettyprint"><code class="java language-java">Set&lt;Person&gt;rosterSetLambda =
    transferElements(roster, () -&gt; { return new HashSet&lt;&gt;(); });
</code></pre>
            <p>è¿›ä¸€æ­¥,ä½ å¯ä»¥ä½¿ç”¨æ„é€ æ–¹æ³•å¼•ç”¨æ¥æ›¿ä»£lambda è¡¨è¾¾å¼:</p>
            <pre class="prettyprint"><code class="java language-java">Set&lt;Person&gt;rosterSet = transferElements(roster, HashSet::new);
</code></pre>
            <p>Javaç¼–è¯‘å™¨æ¨æ–­å‡ºä½ æƒ³åˆ›å»ºä¸€ä¸ªHashSeté›†åˆ,å…¶ä¸­åŒ…å«Personç±»å‹çš„å…ƒç´ .å½“ç„¶,ä½ ä¹Ÿå¯ä»¥åƒä¸‹é¢è¿™æ ·æ˜¾å¼çš„æŒ‡å®šé›†åˆå…ƒç´ çš„ç±»å‹ä¸ºPerson</p>
            <pre class="prettyprint"><code class="java language-java">Set&lt;Person&gt;rosterSet = transferElements(roster,HashSet&lt;Person&gt;::new);
</code></pre>
            <div class="dsd_title"><a href="#top" id="â‘¢">â‘¢ ç›¸å…³æ–‡ç« </a></div>
            <p>ğŸ“– <a href="http://dashidan.com/article/java/index.html">Javaä»å…¥é—¨åˆ°ç²¾é€šç´¢å¼•</a></p>
            <div class="dsd_title"><a href="#top" id="â‘£">â‘£ å‚è€ƒæ–‡ç« </a></div>
            <p>ğŸ“– <a href="http://blog.csdn.net/wwwsssaaaddd/article/details/37573517">http://blog.csdn.net/wwwsssaaaddd/article/details/37573517</a>
            </p>
            <p>ğŸ“– <a href="http://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html">http://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html</a>
            </p>
            <span>è½¬è½½è¯·ä¿ç•™åŸæ–‡é“¾æ¥: <a href="http://dashidan.com/article/java/index.html">http://dashidan.com/article/java/index.html</a>
                </span>
        </div>
    </div>

    <div id="xs_content"></div>
    <div class="text-center">
        <div>
            <a href="http://dashidan.com/article/java/jdk8/7.html">ğŸ“–
                ä¸‹ä¸€ç¯‡: JDK8é›†åˆç±»åº“çš„æ‰¹é‡æ•°æ®æ“ä½œ</a>
        </div>
    </div>
</div>

<div style="display:none;">
    <script src="https://s19.cnzz.com/z_stat.php?id=1264355070&web_id=1264355070" language="JavaScript"></script>
</div>

<script src="http://dashidan.com/js/jquery-3.2.1.min.js"></script>
<script src="http://dashidan.com/js/vendor/modernizr-custom.js"></script>
<script src="http://dashidan.com/js/bootstrap.js"></script>
<script src="http://dashidan.com/js/google-code-prettify/run_prettify.js"></script>
<script src="http://dashidan.com/js/main.js"></script>
</body>
</html>
