<!doctype html>
<html class="no-js" lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Lamdbaè¡¨è¾¾å¼åœ¨Javaä¸­çš„å®æˆ˜åº”ç”¨</title>
    <meta name="description" content="Lamdbaè¡¨è¾¾å¼åœ¨Javaä¸­çš„å®æˆ˜åº”ç”¨">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Expires" content="0">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Cache-control" content="no-cache">
    <meta http-equiv="Cache" content="no-cache">

    <link rel="stylesheet" href="http://dashidan.com/css/bootstrap.css">
    <link rel="stylesheet" href="http://dashidan.com/css/dashidan.css">
</head>
<body>

<!--[if lte IE 9]>
<p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade
    your browser</a> to improve your experience and security.</p>
<![endif]-->

<nav class="navbar navbar-default">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                    data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">
                <img src="http://dashidan.com/img/dsd24.png">
            </a>
            <a class="navbar-brand" href="http://dashidan.com/index.html">å¤§å±è›‹æ•™ç¨‹ç½‘</a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <li><a href="http://dashidan.com/about.html">å…³äº</a></li>
                <li><a href="http://dashidan.com/thanks.html">é¸£è°¢</a></li>
                <li><a href="http://dashidan.com/siteMap.html">ç½‘ç«™åœ°å›¾</a></li>
            </ul>
        </div>
    </div>
</nav>

<div class="container">
    <!-- é¡¶éƒ¨é¢åŒ…å±‘å¯¼èˆª-->
    <ol class="breadcrumb">
        <li><a href="http://dashidan.com/index.html">é¦–é¡µ</a></li>
        <li class="active"><a href="http://dashidan.com/article/java/index.html">Java</a></li>
    </ol>
    <div id="xs_index" class="col-sm-3 col-md-3 col-lg-3 col-xs-12 hidden-xs">
        <!--
        <div id="xs_index_close" class="text-right visible-xs" onclick="hideIndex()">
            å…³é—­â
            <hr>
        </div>
		-->
        <div>
            <div class="dsd_title" onclick="clickTitle('basic')">
                <h3><span id="basic_title">â• Javaå…¥é—¨åˆ°ç²¾é€š</span></h3>
            </div>

            <div id="basic" class="dsd_catalog_left_hide">
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/basic/1.html">1.Javaæ•™ç¨‹æ¦‚è¿°</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/basic/2.html">2.æ­å»ºJavaå¼€å‘ç¯å¢ƒ</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/basic/3.html">3.ç¬¬ä¸€ä¸ªJavaç¨‹åº</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/basic/4.html">4.Javaä»£ç æ³¨é‡Š</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/basic/5.html">5.Javaå˜é‡</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/basic/6.html">6.Javaé›†æˆå¼€å‘ç¯å¢ƒ</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/basic/7.html">7.Javaè¿ç®—ç¬¦</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/basic/8.html">8.Javaæ–¹æ³•</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/basic/9.html">9.Javaæµç¨‹æ§åˆ¶</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/basic/10.html">10.Javaå‘½åç©ºé—´</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/basic/11.html">11.Javaæ•°ç»„</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/basic/12.html">12.Javaé™æ€å˜é‡ä¸å¸¸é‡</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/basic/13.html">13.Javaå¯¹è±¡</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/basic/14.html">14.JavaåŒ…è£…ç±»</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/basic/15.html">15.Javaé›†åˆç±»</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/basic/16.html">16.Javaå¼‚å¸¸</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/basic/17.html">17.Javaä½è¿ç®—</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/basic/18.html">18.Javaè½¬ä¹‰å­—ç¬¦</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/basic/19.html">19.Javaçº¿ç¨‹</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/basic/20.html">20.Javaè®¾è®¡æ¨¡å¼</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/basic/21.html">21.Javaç¼–ç ä¼˜åŒ–</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/basic/22.html">22.jvmå‚æ•°ä¼˜åŒ–</a>
                </div>
            </div>

            <div class="dsd_title" onclick="clickTitle('jdk8')">
                <h3 id="jdk8_title">â• JDK8æ–°ç‰¹æ€§</h3>
            </div>
            <div id="jdk8" class="dsd_catalog_left_hide">
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/jdk8/1.html">1.JDK8æ–°å¢è¯­æ³•ç‰¹æ€§ç®€ä»‹</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/jdk8/2.html">2.JDK8å‡½æ•°å¼æ¥å£</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/jdk8/3.html">3.Javaä¸­Lambdaè¡¨è¾¾å¼ç”±æ¥</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/jdk8/4.html">4.Lamdbaè¡¨è¾¾å¼åœ¨Javaä¸­çš„å®æˆ˜åº”ç”¨</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/jdk8/5.html">5.JDK8çš„defaultæ–¹æ³•</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/jdk8/6.html">6.JDK8æ–¹æ³•å¼•ç”¨</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/jdk8/7.html">7.JDK8é›†åˆç±»åº“çš„æ‰¹é‡æ•°æ®æ“ä½œ</a>
                </div>
            </div>

            <div class="dsd_title" onclick="clickTitle('addenda')">
                <h3 id="addenda_title">â• é™„å½•</h3>
            </div>
            <div id="addenda" class="dsd_catalog_left_hide">
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/addenda/1.html">1.Javaä¸­@Overrideæ ‡ç­¾ä½œç”¨</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/addenda/2.html">2.Javaç¼–ç è§„èŒƒ</a>
                </div>
                <div class="single_line">
                    <a href="http://dashidan.com/article/java/addenda/3.html">3.Javaä¿ç•™å…³é”®å­—</a>
                </div>
            </div>

        </div>
    </div>
    <div id="sx_index_button" class="visible-xs-block" onclick="showIndex()">
        <!-- å°å±æ˜¾ç¤ºç›®å½•-->
        <div id="sx_index_button_text">
            <span style="color: white">ğŸ”–ç›®å½•</span>
        </div>
    </div>
    <div id="xs_content">
        <div class="col-sm-9 col-md-9 col-lg-9">
            <!-- æ–‡ç« å†…å®¹-->
            <div id="xs_content_border">
                <div>
                    <div class="dsd_title"><h1>Lamdbaè¡¨è¾¾å¼åœ¨Javaä¸­çš„å®æˆ˜åº”ç”¨</h1></div>
                    <div class="dsd_catalog"><p><a href="#â‘ ">â‘  Lambdaè¡¨è¾¾å¼çš„è¯­æ³•</a></p>
                        <p><a href="#â‘¡">â‘¡ åŸºæœ¬çš„Lambdaä¾‹å­</a></p>
                        <p><a href="#â‘¢">â‘¢ ä½¿ç”¨Lambdaè¡¨è¾¾å¼å¯¹é›†åˆæ’åº</a></p>
                        <p><a href="#â‘£">â‘£ Lambadè¡¨è¾¾å¼åœ¨æµå¼æ“ä½œä¸­çš„åº”ç”¨</a></p>
                        <p><a href="#â‘¤">â‘¤ ç›¸å…³æ–‡ç« </a></p>
                        <p><a href="#â‘¥">â‘¥ å‚è€ƒæ–‡ç« </a></p></div>
                </div>
                <div class="dsd_title"><a href="#top" id="â‘ ">â‘  Lambdaè¡¨è¾¾å¼çš„è¯­æ³•</a></div>
                <p>Lambdaè¡¨è¾¾å¼çš„æœ¬è´¨æ˜¯ä¸€ä¸ª"è¯­æ³•ç³–", ç”±ç¼–è¯‘å™¨æ¨æ–­å¹¶è½¬æ¢ä¸ºå¸¸è§„çš„ä»£ç , å¯¹åº”"å•æŠ½è±¡æ–¹æ³•æ¥å£"ä¸­çš„é‚£ä¸€ä¸ªæ–¹æ³•.</p>
                <p>åŸºæœ¬è¯­æ³•:</p>
                <pre class="prettyprint"><code>(parameters) -&gt; expression
</code></pre>
                <p>æˆ–</p>
                <pre class="prettyprint"><code>(parameters) -&gt; { statements; }
</code></pre>
                <p>Javaè¯­è¨€Lambdaè¡¨è¾¾å¼çš„ç¤ºä¾‹:</p>
                <pre class="prettyprint"><code>// â‘  ä¸éœ€è¦å‚æ•°,è¿”å›å€¼ä¸º 5
() -&gt; 5

// â‘¡ æ¥æ”¶ä¸€ä¸ªå‚æ•°(æ•°å­—ç±»å‹),è¿”å›å…¶2å€çš„å€¼
x -&gt; 2 * x

// â‘¢ æ¥å—2ä¸ªå‚æ•°(æ•°å­—),å¹¶è¿”å›ä»–ä»¬çš„å·®å€¼
(x, y) -&gt; x â€“ y

// â‘£ æ¥æ”¶2ä¸ªintå‹æ•´æ•°,è¿”å›ä»–ä»¬çš„å’Œ
(int x, int y) -&gt; x + y

// â‘¤ æ¥å—ä¸€ä¸ª string å¯¹è±¡,å¹¶åœ¨æ§åˆ¶å°æ‰“å°,ä¸è¿”å›ä»»ä½•å€¼(çœ‹èµ·æ¥åƒæ˜¯è¿”å›void)
(String s) -&gt; System.out.print(s)
</code></pre>
                <div class="dsd_title"><a href="#top" id="â‘¡">â‘¡ åŸºæœ¬çš„Lambdaä¾‹å­</a></div>
                <p>åœ¨æœ¬èŠ‚ä¸­,æˆ‘ä»¬å°†çœ‹åˆ°lambdaè¡¨è¾¾å¼å¦‚ä½•å½±å“æˆ‘ä»¬ç¼–ç çš„æ–¹å¼. å‡è®¾æœ‰ä¸€ä¸ªç©å®¶List,å¯ä»¥ä½¿ç”¨"for å¾ªç¯"æ¥éå†,åœ¨Java SE 8ä¸­å¯ä»¥è½¬æ¢ä¸ºå¦ä¸€ç§å½¢å¼:</p>
                <pre class="prettyprint"><code>String[] atp = {"Rafael Nadal", "Novak Djokovic",
       "Stanislas Wawrinka",
       "David Ferrer","Roger Federer",
       "Andy Murray","Tomas Berdych",
       "Juan Martin Del Potro"};
List&lt;String&gt; players =  Arrays.asList(atp);

// ä»¥å‰çš„å¾ªç¯æ–¹å¼
for (String player : players) {
     System.out.print(player + "; ");
}

// ä½¿ç”¨ lambda è¡¨è¾¾å¼ä»¥åŠå‡½æ•°æ“ä½œ(functional operation)
players.forEach((player) -&gt; System.out.print(player + "; "));

// åœ¨ Java 8 ä¸­ä½¿ç”¨åŒå†’å·æ“ä½œç¬¦(double colon operator)
players.forEach(System.out::println);
</code></pre>
                <p>Lambdaè¡¨è¾¾å¼å¯ä»¥å°†æˆ‘ä»¬çš„ä»£ç ç¼©å‡åˆ°ä¸€è¡Œ. </p>
                <p>å¦ä¸€ä¸ªä¾‹å­æ˜¯åœ¨å›¾å½¢ç”¨æˆ·ç•Œé¢ç¨‹åºä¸­,åŒ¿åç±»å¯ä»¥ä½¿ç”¨lambdaè¡¨è¾¾å¼æ¥ä»£æ›¿. åŒæ ·,åœ¨å®ç°Runnableæ¥å£æ—¶ä¹Ÿå¯ä»¥è¿™æ ·ä½¿ç”¨:</p>
                <pre class="prettyprint"><code>// ä½¿ç”¨åŒ¿åå†…éƒ¨ç±»
btn.setOnAction(new EventHandler&lt;ActionEvent&gt;() {
          @Override
          public void handle(ActionEvent event) {
              System.out.println("Hello World!");
          }
    });

// æˆ–è€…ä½¿ç”¨ lambda expression
btn.setOnAction(event -&gt; System.out.println("Hello World!"));
</code></pre>
                <p>ä¸‹é¢æ˜¯ä½¿ç”¨lambdasæ¥å®ç°Runnableæ¥å£çš„ç¤ºä¾‹:</p>
                <pre class="prettyprint"><code>// 1.1ä½¿ç”¨åŒ¿åå†…éƒ¨ç±»
new Thread(new Runnable() {
    @Override
    public void run() {
        System.out.println("Hello world !");
    }
}).start();

// 1.2ä½¿ç”¨ lambda expression
new Thread(() -&gt; System.out.println("Hello world !")).start();

// 2.1ä½¿ç”¨åŒ¿åå†…éƒ¨ç±»
Runnable race1 = new Runnable() {
    @Override
    public void run() {
        System.out.println("Hello world !");
    }
};

// 2.2ä½¿ç”¨ lambda expression
Runnable race2 = () -&gt; System.out.println("Hello world !");
</code></pre>
                <div class="dsd_title"><a href="#top" id="â‘¢">â‘¢ ä½¿ç”¨Lambdaè¡¨è¾¾å¼å¯¹é›†åˆæ’åº</a></div>
                <p>åœ¨Javaä¸­, Comparatorç±»è¢«ç”¨æ¥æ’åºé›†åˆ.</p>
                <p>åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­,æˆ‘ä»¬å°†æ ¹æ®çƒå‘˜çš„ name, surname, name é•¿åº¦ ä»¥åŠæœ€åä¸€ä¸ªå­—æ¯.å’Œå‰é¢çš„ç¤ºä¾‹ä¸€æ ·,å…ˆä½¿ç”¨åŒ¿åå†…éƒ¨ç±»æ¥æ’åº,ç„¶åå†ä½¿ç”¨lambdaè¡¨è¾¾å¼ç²¾ç®€æˆ‘ä»¬çš„ä»£ç .</p>
                <p>åœ¨ç¬¬ä¸€ä¸ªä¾‹å­ä¸­,æˆ‘ä»¬å°†æ ¹æ®nameæ¥æ’åºlist. ä½¿ç”¨æ—§çš„æ–¹å¼,ä»£ç å¦‚ä¸‹æ‰€ç¤º:</p>
                <pre class="prettyprint"><code>String[] players = {"Rafael Nadal", "Novak Djokovic",
    "Stanislas Wawrinka", "David Ferrer",
    "Roger Federer", "Andy Murray",
    "Tomas Berdych", "Juan Martin Del Potro",
    "Richard Gasquet", "John Isner"};

// 1.1 ä½¿ç”¨åŒ¿åå†…éƒ¨ç±»æ ¹æ® name æ’åº players
Arrays.sort(players, new Comparator&lt;String&gt;() {
    @Override
    public int compare(String s1, String s2) {
        return (s1.compareTo(s2));
    }
});
</code></pre>
                <p>ä½¿ç”¨lambdas,å¯ä»¥é€šè¿‡ä¸‹é¢çš„ä»£ç å®ç°åŒæ ·çš„åŠŸèƒ½:</p>
                <pre class="prettyprint"><code>// 1.2 ä½¿ç”¨ lambda expression æ’åº players
Comparator&lt;String&gt; sortByName = (String s1, String s2) -&gt; (s1.compareTo(s2));
Arrays.sort(players, sortByName);

// 1.3 ä¹Ÿå¯ä»¥é‡‡ç”¨å¦‚ä¸‹å½¢å¼:
Arrays.sort(players, (String s1, String s2) -&gt; (s1.compareTo(s2)));
</code></pre>
                <p>å…¶ä»–çš„æ’åºå¦‚ä¸‹æ‰€ç¤º. å’Œä¸Šé¢çš„ç¤ºä¾‹ä¸€æ ·,ä»£ç åˆ†åˆ«é€šè¿‡åŒ¿åå†…éƒ¨ç±»å’Œä¸€äº›lambdaè¡¨è¾¾å¼æ¥å®ç°Comparator :</p>
                <pre class="prettyprint"><code>// 1.1 ä½¿ç”¨åŒ¿åå†…éƒ¨ç±»æ ¹æ® surname æ’åº players
Arrays.sort(players, new Comparator&lt;String&gt;() {
    @Override
    public int compare(String s1, String s2) {
        return (s1.substring(s1.indexOf(" ")).compareTo(s2.substring(s2.indexOf(" "))));
    }
});

// 1.2 ä½¿ç”¨ lambda expression æ’åº,æ ¹æ® surname
Comparator&lt;String&gt; sortBySurname = (String s1, String s2) -&gt;
    ( s1.substring(s1.indexOf(" ")).compareTo( s2.substring(s2.indexOf(" ")) ) );
Arrays.sort(players, sortBySurname);

// 1.3 æˆ–è€…è¿™æ ·
Arrays.sort(players, (String s1, String s2) -&gt;
      ( s1.substring(s1.indexOf(" ")).compareTo( s2.substring(s2.indexOf(" ")) ) )
    );

// 2.1   name lenght æ’åº players
Arrays.sort(players, new Comparator&lt;String&gt;() {
    @Override
    public int compare(String s1, String s2) {
        return (s1.length() - s2.length());
    }
});

// 2.2 ä½¿ç”¨ lambda expression æ’åº,æ ¹æ® name lenght
Comparator&lt;String&gt; sortByNameLenght = (String s1, String s2) -&gt; (s1.length() - s2.length());
Arrays.sort(players, sortByNameLenght);

// 2.3 æˆ–è€…è¿™æ ·
Arrays.sort(players, (String s1, String s2) -&gt; (s1.length() - s2.length()));

// 3.1 ä½¿ç”¨åŒ¿åå†…éƒ¨ç±»æ’åº players, æ ¹æ®æœ€åä¸€ä¸ªå­—æ¯
Arrays.sort(players, new Comparator&lt;String&gt;() {
    @Override
    public int compare(String s1, String s2) {
        return (s1.charAt(s1.length() - 1) - s2.charAt(s2.length() - 1));
    }
});

// 3.2 ä½¿ç”¨ lambda expression æ’åº,æ ¹æ®æœ€åä¸€ä¸ªå­—æ¯
Comparator&lt;String&gt; sortByLastLetter =
    (String s1, String s2) -&gt;
        (s1.charAt(s1.length() - 1) - s2.charAt(s2.length() - 1));
Arrays.sort(players, sortByLastLetter);

// 3.3 æˆ–è€…è¿™æ ·
Arrays.sort(players, (String s1, String s2) -&gt; (s1.charAt(s1.length() - 1) - s2.charAt(s2.length() - 1)));
</code></pre>
                <div class="dsd_title"><a href="#top" id="â‘£">â‘£ Lambadè¡¨è¾¾å¼åœ¨æµå¼æ“ä½œä¸­çš„åº”ç”¨</a></div>
                <p>å¯¹äºjavaç¨‹åºå‘˜,éœ€è¦èƒ½å¿«é€Ÿä¸Šæ‰‹å¹¶è¡Œç±»åº“,æé«˜å·¥ä½œæ•ˆç‡. å¯åŠ¨è¿™æ ·ä¸€ç§æŠ€æœ¯å˜é©çš„æœ€ä½³åˆ‡å…¥ç‚¹æ˜¯é›†åˆ(collection)å†…éƒ¨æ“ä½œå¹¶è¡ŒåŒ–.é€šè¿‡Lambdaè¡¨è¾¾å¼å’ŒStream APIå¯ä»¥å®ç°.</p>
                <p>Streamæ˜¯å¯¹é›†åˆçš„åŒ…è£…,é€šå¸¸å’Œlambdaä¸€èµ·ä½¿ç”¨. ä½¿ç”¨lambdaså¯ä»¥æ”¯æŒè®¸å¤šæ“ä½œ,å¦‚ map, filter, limit, sorted, count, min, max, sum,
                    collect ç­‰ç­‰. </p>
                <p>Streamä½¿ç”¨æ‡’è¿ç®—,ä»–ä»¬å¹¶ä¸ä¼šçœŸæ­£åœ°è¯»å–æ‰€æœ‰æ•°æ®,é‡åˆ°åƒgetFirst()è¿™æ ·çš„æ–¹æ³•å°±ä¼šç»“æŸé“¾å¼è¯­æ³•. åœ¨æ¥ä¸‹æ¥çš„ä¾‹å­ä¸­,æˆ‘ä»¬å°†æ¢ç´¢lambdaså’Œstreamsèƒ½åšä»€ä¹ˆ.</p>
                <p>æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªPersonç±»å¹¶ä½¿ç”¨è¿™ä¸ªç±»æ¥æ·»åŠ ä¸€äº›æ•°æ®åˆ°listä¸­,å°†ç”¨äºè¿›ä¸€æ­¥æµæ“ä½œ. </p>
                <p>Person åªæ˜¯ä¸€ä¸ªç®€å•çš„POJOç±»:</p>
                <pre class="prettyprint"><code class="java language-java">public class Person {

private String firstName, lastName, job, gender;
private int salary, age;

public Person(String firstName, String lastName, String job,
                String gender, int age, int salary)       {
          this.firstName = firstName;
          this.lastName = lastName;
          this.gender = gender;
          this.age = age;
          this.job = job;
          this.salary = salary;
}
// Getter and Setter
// . . . . .
}
</code></pre>
                <p>æ¥ä¸‹æ¥,æˆ‘ä»¬å°†åˆ›å»ºä¸¤ä¸ªlist,éƒ½ç”¨æ¥å­˜æ”¾Personå¯¹è±¡:</p>
                <pre class="prettyprint"><code class="java language-java">List&lt;Person&gt; javaProgrammers = new ArrayList&lt;Person&gt;() {
  {
    add(new Person("Elsdon", "Jaycob", "Java programmer", "male", 43, 2000));
    add(new Person("Tamsen", "Brittany", "Java programmer", "female", 23, 1500));
    add(new Person("Floyd", "Donny", "Java programmer", "male", 33, 1800));
    add(new Person("Sindy", "Jonie", "Java programmer", "female", 32, 1600));
    add(new Person("Vere", "Hervey", "Java programmer", "male", 22, 1200));
    add(new Person("Maude", "Jaimie", "Java programmer", "female", 27, 1900));
    add(new Person("Shawn", "Randall", "Java programmer", "male", 30, 2300));
    add(new Person("Jayden", "Corrina", "Java programmer", "female", 35, 1700));
    add(new Person("Palmer", "Dene", "Java programmer", "male", 33, 2000));
    add(new Person("Addison", "Pam", "Java programmer", "female", 34, 1300));
  }
};

List&lt;Person&gt; phpProgrammers = new ArrayList&lt;Person&gt;() {
  {
    add(new Person("Jarrod", "Pace", "PHP programmer", "male", 34, 1550));
    add(new Person("Clarette", "Cicely", "PHP programmer", "female", 23, 1200));
    add(new Person("Victor", "Channing", "PHP programmer", "male", 32, 1600));
    add(new Person("Tori", "Sheryl", "PHP programmer", "female", 21, 1000));
    add(new Person("Osborne", "Shad", "PHP programmer", "male", 32, 1100));
    add(new Person("Rosalind", "Layla", "PHP programmer", "female", 25, 1300));
    add(new Person("Fraser", "Hewie", "PHP programmer", "male", 36, 1100));
    add(new Person("Quinn", "Tamara", "PHP programmer", "female", 21, 1000));
    add(new Person("Alvin", "Lance", "PHP programmer", "male", 38, 1600));
    add(new Person("Evonne", "Shari", "PHP programmer", "female", 40, 1800));
  }
};
</code></pre>
                <p>ç°åœ¨æˆ‘ä»¬ä½¿ç”¨forEachæ–¹æ³•æ¥è¿­ä»£è¾“å‡ºä¸Šè¿°åˆ—è¡¨:</p>
                <pre class="prettyprint"><code class="java language-java">System.out.println("æ‰€æœ‰ç¨‹åºå‘˜çš„å§“å:");
javaProgrammers.forEach((p) -&gt; System.out.printf("%s %s; ", p.getFirstName(), p.getLastName()));
phpProgrammers.forEach((p) -&gt; System.out.printf("%s %s; ", p.getFirstName(), p.getLastName()));
</code></pre>
                <p>æˆ‘ä»¬åŒæ ·ä½¿ç”¨forEachæ–¹æ³•,å¢åŠ ç¨‹åºå‘˜çš„å·¥èµ„5%:</p>
                <pre class="prettyprint"><code class="java language-java">System.out.println("ç»™ç¨‹åºå‘˜åŠ è–ª 5% :");
Consumer&lt;Person&gt; giveRaise = e -&gt; e.setSalary(e.getSalary() / 100 * 5 + e.getSalary());

javaProgrammers.forEach(giveRaise);
phpProgrammers.forEach(giveRaise);
</code></pre>
                <p>å¦ä¸€ä¸ªæœ‰ç”¨çš„æ–¹æ³•æ˜¯è¿‡æ»¤å™¨filter() ,è®©æˆ‘ä»¬æ˜¾ç¤ºæœˆè–ªè¶…è¿‡1400ç¾å…ƒçš„PHPç¨‹åºå‘˜:</p>
                <pre class="prettyprint"><code class="java language-java">System.out.println("ä¸‹é¢æ˜¯æœˆè–ªè¶…è¿‡ $1,400 çš„PHPç¨‹åºå‘˜:")
phpProgrammers.stream()
          .filter((p) -&gt; (p.getSalary() &gt; 1400))
          .forEach((p) -&gt; System.out.printf("%s %s; ", p.getFirstName(), p.getLastName()));
</code></pre>
                <p>æˆ‘ä»¬ä¹Ÿå¯ä»¥å®šä¹‰è¿‡æ»¤å™¨,ç„¶åé‡ç”¨å®ƒä»¬æ¥æ‰§è¡Œå…¶ä»–æ“ä½œ:</p>
                <pre class="prettyprint"><code class="java language-java">// å®šä¹‰ filters
Predicate&lt;Person&gt; ageFilter = (p) -&gt; (p.getAge() &gt; 25);
Predicate&lt;Person&gt; salaryFilter = (p) -&gt; (p.getSalary() &gt; 1400);
Predicate&lt;Person&gt; genderFilter = (p) -&gt; ("female".equals(p.getGender()));

System.out.println("ä¸‹é¢æ˜¯å¹´é¾„å¤§äº 24å²ä¸”æœˆè–ªåœ¨$1,400ä»¥ä¸Šçš„å¥³PHPç¨‹åºå‘˜:");
phpProgrammers.stream()
          .filter(ageFilter)
          .filter(salaryFilter)
          .filter(genderFilter)
          .forEach((p) -&gt; System.out.printf("%s %s; ", p.getFirstName(), p.getLastName()));

// é‡ç”¨filters
System.out.println("å¹´é¾„å¤§äº 24å²çš„å¥³æ€§ Java programmers:");
javaProgrammers.stream()
          .filter(ageFilter)
          .filter(genderFilter)
          .forEach((p) -&gt; System.out.printf("%s %s; ", p.getFirstName(), p.getLastName()));
</code></pre>
                <p>ä½¿ç”¨limitæ–¹æ³•,å¯ä»¥é™åˆ¶ç»“æœé›†çš„ä¸ªæ•°:</p>
                <pre class="prettyprint"><code class="java language-java">System.out.println("æœ€å‰é¢çš„3ä¸ª Java programmers:");
javaProgrammers.stream()
          .limit(3)
          .forEach((p) -&gt; System.out.printf("%s %s; ", p.getFirstName(), p.getLastName()));


System.out.println("æœ€å‰é¢çš„3ä¸ªå¥³æ€§ Java programmers:");
javaProgrammers.stream()
          .filter(genderFilter)
          .limit(3)
          .forEach((p) -&gt; System.out.printf("%s %s; ", p.getFirstName(), p.getLastName()));
</code></pre>
                <div class="bs-callout bs-callout-warning">
                    <h4>åœ¨streamä¸­èƒ½å¤„ç†æ’åºå—?</h4>
                    ç­”æ¡ˆæ˜¯è‚¯å®šçš„.
                </div>
                <p>åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­,æˆ‘ä»¬å°†æ ¹æ®åå­—å’Œè–ªæ°´æ’åºJavaç¨‹åºå‘˜,æ”¾åˆ°ä¸€ä¸ªlistä¸­,ç„¶åæ˜¾ç¤ºåˆ—è¡¨:</p>
                <pre class="prettyprint"><code class="java language-java">System.out.println("æ ¹æ® name æ’åº,å¹¶æ˜¾ç¤ºå‰5ä¸ª Java programmers:");
List&lt;Person&gt; sortedJavaProgrammers = javaProgrammers
          .stream()
          .sorted((p, p2) -&gt; (p.getFirstName().compareTo(p2.getFirstName())))
          .limit(5)
          .collect(toList());

sortedJavaProgrammers.forEach((p) -&gt; System.out.printf("%s %s; %n", p.getFirstName(), p.getLastName()));

System.out.println("æ ¹æ® salary æ’åº Java programmers:");
sortedJavaProgrammers = javaProgrammers
          .stream()
          .sorted( (p, p2) -&gt; (p.getSalary() - p2.getSalary()) )
          .collect( toList() );

sortedJavaProgrammers.forEach((p) -&gt; System.out.printf("%s %s; %n", p.getFirstName(), p.getLastName()));
</code></pre>
                <p>å¦‚æœæˆ‘ä»¬åªå¯¹æœ€ä½å’Œæœ€é«˜çš„è–ªæ°´æ„Ÿå…´è¶£,æ¯”æ’åºåé€‰æ‹©ç¬¬ä¸€ä¸ª/æœ€åä¸€ä¸ª æ›´å¿«çš„æ˜¯minå’Œmaxæ–¹æ³•:</p>
                <pre class="prettyprint"><code class="java language-java">System.out.println("å·¥èµ„æœ€ä½çš„ Java programmer:");
Person pers = javaProgrammers
          .stream()
          .min((p1, p2) -&gt; (p1.getSalary() - p2.getSalary()))
          .get()

System.out.printf("Name: %s %s; Salary: $%,d.", pers.getFirstName(), pers.getLastName(), pers.getSalary())

System.out.println("å·¥èµ„æœ€é«˜çš„ Java programmer:");
Person person = javaProgrammers
          .stream()
          .max((p, p2) -&gt; (p.getSalary() - p2.getSalary()))
          .get()

System.out.printf("Name: %s %s; Salary: $%,d.", person.getFirstName(), person.getLastName(), person.getSalary())
</code></pre>
                <p>ä¸Šé¢çš„ä¾‹å­ä¸­æˆ‘ä»¬å·²ç»çœ‹åˆ° collect æ–¹æ³•æ˜¯å¦‚ä½•å·¥ä½œçš„. ç»“åˆ map æ–¹æ³•,æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ collect æ–¹æ³•æ¥å°†æˆ‘ä»¬çš„ç»“æœé›†æ”¾åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²,ä¸€ä¸ª Set æˆ–ä¸€ä¸ªTreeSetä¸­:</p>
                <pre class="prettyprint"><code class="java language-java">System.out.println("å°† PHP programmers çš„ first name æ‹¼æ¥æˆå­—ç¬¦ä¸²:");
String phpDevelopers = phpProgrammers
          .stream()
          .map(Person::getFirstName)
          .collect(joining(" ; ")); // åœ¨è¿›ä¸€æ­¥çš„æ“ä½œä¸­å¯ä»¥ä½œä¸ºæ ‡è®°(token)

System.out.println("å°† Java programmers çš„ first name å­˜æ”¾åˆ° Set:");
Set&lt;String&gt; javaDevFirstName = javaProgrammers
          .stream()
          .map(Person::getFirstName)
          .collect(toSet());

System.out.println("å°† Java programmers çš„ first name å­˜æ”¾åˆ° TreeSet:");
TreeSet&lt;String&gt; javaDevLastName = javaProgrammers
          .stream()
          .map(Person::getLastName)
          .collect(toCollection(TreeSet::new));
</code></pre>
                <p>Streams è¿˜å¯ä»¥æ˜¯å¹¶è¡Œçš„(parallel). ç¤ºä¾‹å¦‚ä¸‹:</p>
                <pre class="prettyprint"><code class="java language-java">System.out.println("è®¡ç®—ä»˜ç»™ Java programmers çš„æ‰€æœ‰money:");
int totalSalary = javaProgrammers
          .parallelStream()
          .mapToInt(p -&gt; p.getSalary())
          .sum();
</code></pre>
                <p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨summaryStatisticsæ–¹æ³•è·å¾—stream ä¸­å…ƒç´ çš„å„ç§æ±‡æ€»æ•°æ®. æ¥ä¸‹æ¥,æˆ‘ä»¬å¯ä»¥è®¿é—®è¿™äº›æ–¹æ³•,æ¯”å¦‚getMax, getMin, getSumæˆ–getAverage:</p>
                <pre class="prettyprint"><code class="java language-java">//è®¡ç®— count, min, max, sum, and average for numbers
List&lt;Integer&gt; numbers = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 10);
IntSummaryStatistics stats = numbers
          .stream()
          .mapToInt((x) -&gt; x)
          .summaryStatistics();

System.out.println("Listä¸­æœ€å¤§çš„æ•°å­— : " + stats.getMax());
System.out.println("Listä¸­æœ€å°çš„æ•°å­— : " + stats.getMin());
System.out.println("æ‰€æœ‰æ•°å­—çš„æ€»å’Œ   : " + stats.getSum());
System.out.println("æ‰€æœ‰æ•°å­—çš„å¹³å‡å€¼ : " + stats.getAverage());
</code></pre>
                <div class="dsd_title"><a href="#top" id="â‘¤">â‘¤ ç›¸å…³æ–‡ç« </a></div>
                <p>ğŸ“– <a href="http://dashidan.com/article/java/index.html">Javaä»å…¥é—¨åˆ°ç²¾é€šç´¢å¼•</a></p>
                <div class="dsd_title"><a href="#top" id="â‘¥">â‘¥ å‚è€ƒæ–‡ç« </a></div>
                <p>ğŸ“– <a
                    href="http://zeroturnaround.com/rebellabs/java-8-revealed-lambdas-default-methods-and-bulk-data-operations/">http://zeroturnaround.com/rebellabs/java-8-revealed-lambdas-default-methods-and-bulk-data-operations/</a>
                </p>
                <span>è½¬è½½è¯·ä¿ç•™åŸæ–‡é“¾æ¥: <a href="http://dashidan.com/article/java/index.html">http://dashidan.com/article/java/index.html</a>
                </span>
            </div>
        </div>
    </div>
    <div class="text-center">
        <div>
            <a href="http://dashidan.com/article/java/jdk8/5.html">ğŸ“–
                ä¸‹ä¸€ç¯‡: JDK8çš„defaultæ–¹æ³•</a>
        </div>
    </div>
</div>

<div style="display:none;">
    <script src="https://s19.cnzz.com/z_stat.php?id=1264355070&web_id=1264355070" language="JavaScript"></script>
</div>

<script src="http://dashidan.com/js/jquery-3.2.1.min.js"></script>
<script src="http://dashidan.com/js/vendor/modernizr-custom.js"></script>
<script src="http://dashidan.com/js/bootstrap.js"></script>
<script src="http://dashidan.com/js/google-code-prettify/run_prettify.js"></script>
<script src="http://dashidan.com/js/main.js"></script>
</body>
</html>
